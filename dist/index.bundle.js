!function(e){var n={};function t(a){if(n[a])return n[a].exports;var l=n[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var l in e)t.d(a,l,function(n){return e[n]}.bind(null,l));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=90)}({1:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e,n){for(var t=n.split("."),l=e;t.length;){var i=t.shift().trim();if(!("object"===(void 0===l?"undefined":a(l))&&i in l))return null;l=l[i]}return l}function i(e,n){var t=e,a=l(n,t.getAttribute("tc-data-model"));"INPUT"===t.nodeName||"SELECT"===t.nodeName||"TEXTAREA"===t.nodeName?t.value=a||"":t.innerHTML=a}function o(e,n){return e.test(n)}function s(e){return function(n,t){return l(e,t)}}n.htmlToElement=function(e){var n=document.createElement("template");return n.innerHTML=e.trim(),n.content.firstChild},n.getValue=l,n.bindPropertiesToElement=function(e,n){if(!n)return;for(var t=0;t<e.length;t+=1)i(e[t],n)},n.requiresSubstitution=o,n.getSubstituteValue=s,n.formatter=function(e,n){var t=/{{([^{]*?)}}/g,a=e;o(t,e)&&(a=e.replace(t,s(n)));return a},n.stopAlertTime=d,n.showAlert=function(e,n){d();var t=document.getElementById("alert");if(!t)return;t.className="",t.classList.add("alert"),t.classList.add(n);var a=t.querySelector(".alert-msg"),l=t.querySelector(".close-btn"),i=function(){return function(){t.style.display="none"}}();a.innerHTML=e,t.style.display="block",l.onclick=i,r=setTimeout(i,8e3)},n.getFieldsAsObject=function(e){var n={};return e.querySelectorAll("input").forEach(function(e){var t=e.getAttribute("name");n[t]=e.value}),e.querySelectorAll("select").forEach(function(e){var t=e.getAttribute("name");n[t]=e.options[e.selectedIndex].value}),n},n.showToast=function(e,n){clearTimeout(c);var t=document.getElementById("toast");if(!t)return;t.className="",t.classList.add("toast");var a=t.querySelector(".alert-msg"),l=t.querySelector(".close-btn"),i=function(){return function(){t.classList.remove("show"),t.classList.add("dismiss")}}();a.innerHTML=e,t.classList.add("show"),t.classList.remove("dismiss"),t.classList.add(n),l.onclick=i,c=setTimeout(i,8e3)},n.trimDate=function(e){return e.substring(0,e.length-5).trim()};var r=null;function d(){clearTimeout(r)}var c=null},2:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.modalBoxTemplate='\n<div id="modal-box" class="modal">\n    <div class="modal-content"></div>\n</div>',n.deleteDialogTemple='\n        <div class="modal-header">\n            <span class="modal-header-title" role="heading">\n                Confirm Delete\n            </span>\n            <span tc-data-dismiss="modal"  class="action-btn close" role="button" tabindex="0" aria-label="Close"></span>\n        </div>\n        <div tc-data-model="message" class="modal-body">This action delete entry from database. Are you sure you want to continue?\n        </div>\n        <div class="modal-footer">\n            <button tc-data-action="ok" name="ok" class="btn-ok">OK</button>\n            <button tc-data-dismiss="cancel"  name="cancel">Cancel</button>\n        </div>',n.entryListHeader='\n        <div class="header">\n            <span class="title">Your Diary Entries</span>\n            <div class="add-entry">\n                <a id="addEntry" title="Add Entry" class="btn create" role="button">Add Diary Entry</a>\n            </div>\n        </div>',n.entryListItemTemplate='\n            <div class="entry">\n                <p class="title" tc-data-model="title"></p>\n                <div class="content line-clamp">\n                    <p class="block-with-text" tc-data-model="content"></p>\n                </div>\n                <div class="footer">\n                    <div>\n                        <span>Last Modified:</span>&nbsp;\n                        <span tc-data-model="lastModified"></span>\n                    </div>\n                    <div class="dropdown">\n                        <a data-index="" tc-data-action="dropdown-toggle"\n                           class="dropdown-toggle-icon"></a>\n                        <ul class="dropdown-menu">\n                            <li><a tc-data-action="view">View</a></li>\n                            <li><a tc-data-action="edit">Edit</a></li>\n                            <li><a tc-data-action="delete">Delete</a></li>\n                        </ul>\n                    </div>\n                </div>\n            </div>',n.createEntryTemplate='       \n    <div class="flexbox-parent scrollable">\n      <div id="alert" class="alert error">\n          <p class="alert-msg"></p>\n          <a href="javascript:void(0);" class="close-btn">&times;</a>\n      </div>\n      <div class="modal-header">\n          <div id="modal-header-title">\n              <p tc-data-model="lastModified"></p>\n              <input tc-data-model="title" placeholder="Title" class="form-input modal-header-input">\n              \x3c!--<span tc-data-model="title" class="modal-header-title"></span>--\x3e\n          </div>\n          <span tc-data-dismiss="modal" class="action-btn close" role="button" tabindex="0" aria-label="Close"></span>\n      </div>\n      <div class="grow-body modal-body">\n          <div class="create-entry">\n              <textarea placeholder="Dear Diary, " id="entry" autofocus></textarea>\n          </div>\n      </div>\n      <div class="modal-footer">\n        <button tc-data-action="save" type="button" class="btn-save">Save</button>\n        <button tc-data-dismiss="cancel" type="button" class="btn-cancel">Cancel</button>\n    </div>\n    </div>\n',n.viewEntryTemplate='\n     <div  class="scrollable">                \n        <div class="modal-header">\n            <div id="modal-header-title">\n                <p tc-data-model="lastModified"></p>\n                <span tc-data-model="title" class="modal-header-title"></span>\n            </div>\n            <span tc-data-dismiss="modal"  class="action-btn close" role="button" tabindex="0" aria-label="Close"></span>\n        </div>               \n        <div class="grow-body modal-body"> \n            <div class="content-container"></div>                \n        </div>  \n     </div>\n',n.loadingTemplate='\n    <div class="loading-container loading-bg">\n        <div class="loading-ring">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>\n    </div>',n.emptyListTemple='<div class="empty-list"><span>No Entry</span></div>',n.navbarHeaderTemplate=' \n    <div>\n      <div class="nav-container">\n          <header class="nav-header">\n          <a class="navicon">\n            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="19" viewBox="0 0 23 19">\n                      <g fill="none">\n                          <g fill="#555">\n                              <rect y="16" width="23" height="3" rx="1.5"></rect>\n                              <rect width="23" height="3" rx="1.5"></rect>\n                              <rect y="8" width="23" height="3" rx="1.5"></rect>\n                          </g>\n                      </g>\n                  </svg>\n          </a>\n          <a href="index.html" class="header-logo">\n              <span class="logo-img"></span>            \n          </a>\n          <div class="nav">\n              <ul class="logged-in">\n                  <li>\n                      <a href="dashboard.html">Dashboard</a>\n                  </li>\n                  <li>\n                      <a href="profile.html">Profile</a>\n                  </li>\n                  <li>\n                      <a class="logout-js">Logout</a>\n                  </li>\n              </ul>\n              <ul class="logged-out">\n                  <li>\n                      <a href="signin.html">Sign In</a>\n                  </li>\n                  <li>\n                      <a class="btn signup" href="signup.html">Sign Up</a>\n                  </li>\n              </ul>            \n          </div>\n      </header>     \n      </div>\n      <div class="side-nav">\n        <div class="nav">\n            <span tc-data-dismiss="side-nav"  class="action-btn close" role="button" tabindex="0" aria-label="Close"></span>\n            <ul class="logged-in">\n                <li>\n                    <a href="dashboard.html">Dashboard</a>\n                </li>\n                <li>\n                    <a href="profile.html">Profile</a>\n                </li>\n                <li>\n                    <a class="logout-js">Logout</a>\n                </li>\n            </ul>\n            <ul class="logged-out" style="display: none;">\n                <li>\n                    <a href="signin.html">Sign In</a>\n                </li>\n                <li>\n                    <a href="signup.html">Sign Up</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n    </div>\n',n.floatingButton='\n    <a title="Add Entry" role="button">\n      <div class="floating-button show-on-mobile">\n          <span title="Add Entry" role="button" class="plus">&plus;</span>\n      </div>\n    </a>'},8:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(1),i=t(2);var o=function(){function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.vieewElement=document.getElementById("navbar"),this.vieewElement.style.display="none",this.vieewElement.appendChild((0,l.htmlToElement)(i.navbarHeaderTemplate));var t=this.vieewElement.querySelectorAll(".logout-js");t[0].onclick=e.logoutHandle,t[1].onclick=e.logoutHandle,this.vieewElement.querySelector('[tc-data-dismiss="side-nav"]').onclick=function(){n.hideOrShowSideNav("hide")},this.vieewElement.querySelector(".navicon").onclick=function(){n.hideOrShowSideNav("show")},this.vieewElement.querySelector(".side-nav").onclick=function(e){e.target.classList.contains("nav")||n.hideOrShowSideNav("hide")}}return a(e,null,[{key:"logoutHandle",value:function(){return function(){localStorage.clear("authenticationToken"),window.location.replace("index.html")}}()}]),a(e,[{key:"render",value:function(){return function(){this.vieewElement.style.display="flex";var e=this.vieewElement.querySelectorAll(".logged-out"),n=this.vieewElement.querySelectorAll(".logged-in");localStorage.authenticationToken?(n[0].style.display="flex",e[0].style.display="none",n[1].style.display="block",e[1].style.display="none"):(n[0].style.display="none",e[0].style.display="flex",n[1].style.display="none",e[1].style.display="block")}}()},{key:"hideOrShowSideNav",value:function(){return function(e){var n=this.vieewElement.querySelector(".side-nav"),t=n.querySelector(".nav");"hide"===e?(n.style.width="0",t.style.width="0"):(n.style.width="100vw",t.style.width="250px")}}()}]),e}();n.default=o},90:function(e,n,t){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(t(8));document.addEventListener("DOMContentLoaded",function(){(new a.default).render(),"undefined"!=typeof Storage&&localStorage.authenticationToken&&window.location.replace("dashboard.html")})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vdWkvc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvc3JjL3RlbXBsYXRlcy5qcyIsIndlYnBhY2s6Ly8vLi91aS9zcmMvbmF2YmFyVmlldy5qcyIsIndlYnBhY2s6Ly8vLi91aS9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnZXRWYWx1ZSIsImNvbnRleHQiLCJjb250ZXh0U3RyIiwic3BsaXRBcnJheSIsInNwbGl0IiwiY3VycmVudENvbnRleHQiLCJsZW5ndGgiLCJpdGVtIiwic2hpZnQiLCJ0cmltIiwiX3R5cGVvZiIsInNldEVsZW1lbnRWYWx1ZSIsInRhcmdldCIsIm1vZGVsIiwiZWxlbWVudCIsImdldEF0dHJpYnV0ZSIsIm5vZGVOYW1lIiwiaW5uZXJIVE1MIiwicmVxdWlyZXNTdWJzdGl0dXRpb24iLCJyZWdFeCIsInN0ciIsInRlc3QiLCJnZXRTdWJzdGl0dXRlVmFsdWUiLCJyZWdleE1hdGNoIiwicGxhY2Vob2xkZXIiLCJodG1sVG9FbGVtZW50IiwiaHRtbCIsInRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJiaW5kUHJvcGVydGllc1RvRWxlbWVudCIsImRhdGFNb2RlbEVsZW1lbnRzIiwiZm9ybWF0dGVyIiwiaW5wdXQiLCJyZXN1bHQiLCJyZXBsYWNlIiwic3RvcEFsZXJ0VGltZSIsInNob3dBbGVydCIsIm1zZyIsInR5cGUiLCJhbGVydCIsImdldEVsZW1lbnRCeUlkIiwiY2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwibXNnRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUVsZW1lbnQiLCJjbG9zZUhhbmRsZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJvbmNsaWNrIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiZ2V0RmllbGRzQXNPYmplY3QiLCJmb3JtIiwiZGF0YSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50Iiwib3B0aW9ucyIsInNlbGVjdGVkSW5kZXgiLCJzaG93VG9hc3QiLCJjbGVhclRpbWVvdXQiLCJ0b2FzdFRpbWVyIiwicmVtb3ZlIiwidHJpbURhdGUiLCJkYXRlIiwic3Vic3RyaW5nIiwibW9kYWxCb3hUZW1wbGF0ZSIsImRlbGV0ZURpYWxvZ1RlbXBsZSIsImVudHJ5TGlzdEhlYWRlciIsImVudHJ5TGlzdEl0ZW1UZW1wbGF0ZSIsImNyZWF0ZUVudHJ5VGVtcGxhdGUiLCJ2aWV3RW50cnlUZW1wbGF0ZSIsImxvYWRpbmdUZW1wbGF0ZSIsImVtcHR5TGlzdFRlbXBsZSIsIm5hdmJhckhlYWRlclRlbXBsYXRlIiwiZmxvYXRpbmdCdXR0b24iLCJfdXRpbCIsIl90ZW1wbGF0ZXMiLCJOYXZCYXJWaWV3IiwiX3RoaXMiLCJ0aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwidmllZXdFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJsb2dvdXQiLCJsb2dvdXRIYW5kbGUiLCJoaWRlT3JTaG93U2lkZU5hdiIsImUiLCJjb250YWlucyIsImxvY2FsU3RvcmFnZSIsImNsZWFyIiwid2luZG93IiwibG9jYXRpb24iLCJsb2dvdXRFbGVtZW50IiwibG9naW5FbGVtZW50IiwiYXV0aGVudGljYXRpb25Ub2tlbiIsImFjdGlvbiIsInNpZGVOYXYiLCJuYXYiLCJ3aWR0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW5kZXIiLCJTdG9yYWdlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FB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LFNBQVM1RCxRQUFRIiwiZmlsZSI6ImluZGV4LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA5MCk7XG4iLCJleHBvcnQgZnVuY3Rpb24gaHRtbFRvRWxlbWVudChodG1sKSB7XG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gaHRtbC50cmltKCk7XG4gIHJldHVybiB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZShjb250ZXh0LCBjb250ZXh0U3RyKSB7XG4gIGNvbnN0IHNwbGl0QXJyYXkgPSBjb250ZXh0U3RyLnNwbGl0KCcuJyk7XG4gIGxldCBjdXJyZW50Q29udGV4dCA9IGNvbnRleHQ7XG4gIHdoaWxlIChzcGxpdEFycmF5Lmxlbmd0aCkge1xuICAgIGNvbnN0IGl0ZW0gPSBzcGxpdEFycmF5LnNoaWZ0KCkudHJpbSgpO1xuICAgIGlmICh0eXBlb2YgKGN1cnJlbnRDb250ZXh0KSA9PT0gJ29iamVjdCcgJiYgaXRlbSBpbiBjdXJyZW50Q29udGV4dCkge1xuICAgICAgY3VycmVudENvbnRleHQgPSBjdXJyZW50Q29udGV4dFtpdGVtXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIHJldHVybiBjdXJyZW50Q29udGV4dDtcbn1cblxuZnVuY3Rpb24gc2V0RWxlbWVudFZhbHVlKHRhcmdldCwgbW9kZWwpIHtcbiAgY29uc3QgZWxlbWVudCA9IHRhcmdldDtcbiAgY29uc3QgZGF0YSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0Yy1kYXRhLW1vZGVsJyk7XG4gIGNvbnN0IHZhbHVlID0gZ2V0VmFsdWUobW9kZWwsIGRhdGEpO1xuICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lOUFVUJ1xuICAgIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdTRUxFQ1QnXG4gICAgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZSB8fCAnJztcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kUHJvcGVydGllc1RvRWxlbWVudChkYXRhTW9kZWxFbGVtZW50cywgbW9kZWwpIHtcbiAgaWYgKCFtb2RlbCkgcmV0dXJuO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFNb2RlbEVsZW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc2V0RWxlbWVudFZhbHVlKGRhdGFNb2RlbEVsZW1lbnRzW2ldLCBtb2RlbCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVzU3Vic3RpdHV0aW9uKHJlZ0V4LCBzdHIpIHtcbiAgcmV0dXJuIHJlZ0V4LnRlc3Qoc3RyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN1YnN0aXR1dGVWYWx1ZShjb250ZXh0KSB7XG4gIHJldHVybiAocmVnZXhNYXRjaCwgcGxhY2Vob2xkZXIpID0+IGdldFZhbHVlKGNvbnRleHQsIHBsYWNlaG9sZGVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdHRlcihpbnB1dCwgY29udGV4dCkge1xuICBjb25zdCByZWdFeCA9IC97eyhbXntdKj8pfX0vZztcbiAgbGV0IHJlc3VsdCA9IGlucHV0O1xuICBpZiAocmVxdWlyZXNTdWJzdGl0dXRpb24ocmVnRXgsIGlucHV0KSkge1xuICAgIHJlc3VsdCA9IGlucHV0LnJlcGxhY2UocmVnRXgsIGdldFN1YnN0aXR1dGVWYWx1ZShjb250ZXh0KSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubGV0IHRpbWVyID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BBbGVydFRpbWUoKSB7XG4gIGNsZWFyVGltZW91dCh0aW1lcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93QWxlcnQobXNnLCB0eXBlKSB7XG4gIHN0b3BBbGVydFRpbWUoKTtcbiAgY29uc3QgYWxlcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxlcnQnKTtcbiAgaWYgKCFhbGVydCkgcmV0dXJuO1xuICBhbGVydC5jbGFzc05hbWUgPSAnJztcbiAgYWxlcnQuY2xhc3NMaXN0LmFkZCgnYWxlcnQnKTtcbiAgYWxlcnQuY2xhc3NMaXN0LmFkZCh0eXBlKTtcbiAgY29uc3QgbXNnRWxlbWVudCA9IGFsZXJ0LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC1tc2cnKTtcbiAgY29uc3QgY2xvc2VFbGVtZW50ID0gYWxlcnQucXVlcnlTZWxlY3RvcignLmNsb3NlLWJ0bicpO1xuICBjb25zdCBjbG9zZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgYWxlcnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfTtcbiAgbXNnRWxlbWVudC5pbm5lckhUTUwgPSBtc2c7XG4gIGFsZXJ0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gIGNsb3NlRWxlbWVudC5vbmNsaWNrID0gY2xvc2VIYW5kbGVyO1xuICB0aW1lciA9IHNldFRpbWVvdXQoY2xvc2VIYW5kbGVyLCA4MDAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpZWxkc0FzT2JqZWN0KGZvcm0pIHtcbiAgY29uc3QgZGF0YSA9IHt9O1xuICBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IGlucHV0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICBkYXRhW25hbWVdID0gaW5wdXRFbGVtZW50LnZhbHVlO1xuICB9KTtcbiAgZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3QnKS5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBuYW1lID0gaW5wdXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgIGRhdGFbbmFtZV0gPSBpbnB1dEVsZW1lbnQub3B0aW9uc1tpbnB1dEVsZW1lbnQuc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gIH0pO1xuICByZXR1cm4gZGF0YTtcbn1cblxubGV0IHRvYXN0VGltZXIgPSBudWxsO1xuXG5mdW5jdGlvbiBzdG9wVG9hc3RUaW1lcigpIHtcbiAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1RvYXN0KG1zZywgdHlwZSkge1xuICBzdG9wVG9hc3RUaW1lcigpO1xuICBjb25zdCBhbGVydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2FzdCcpO1xuICBpZiAoIWFsZXJ0KSByZXR1cm47XG4gIGFsZXJ0LmNsYXNzTmFtZSA9ICcnO1xuICBhbGVydC5jbGFzc0xpc3QuYWRkKCd0b2FzdCcpO1xuICBjb25zdCBtc2dFbGVtZW50ID0gYWxlcnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LW1zZycpO1xuICBjb25zdCBjbG9zZUVsZW1lbnQgPSBhbGVydC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJyk7XG4gIGNvbnN0IGNsb3NlSGFuZGxlciA9ICgpID0+IHtcbiAgICBhbGVydC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgYWxlcnQuY2xhc3NMaXN0LmFkZCgnZGlzbWlzcycpO1xuICB9O1xuICBtc2dFbGVtZW50LmlubmVySFRNTCA9IG1zZztcbiAgYWxlcnQuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICBhbGVydC5jbGFzc0xpc3QucmVtb3ZlKCdkaXNtaXNzJyk7XG4gIGFsZXJ0LmNsYXNzTGlzdC5hZGQodHlwZSk7XG5cbiAgY2xvc2VFbGVtZW50Lm9uY2xpY2sgPSBjbG9zZUhhbmRsZXI7XG4gIHRvYXN0VGltZXIgPSBzZXRUaW1lb3V0KGNsb3NlSGFuZGxlciwgODAwMCk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHRyaW1EYXRlKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuc3Vic3RyaW5nKDAsIGRhdGUubGVuZ3RoIC0gNSkudHJpbSgpO1xufVxuIiwiZXhwb3J0IGNvbnN0IG1vZGFsQm94VGVtcGxhdGUgPSBgXG48ZGl2IGlkPVwibW9kYWwtYm94XCIgY2xhc3M9XCJtb2RhbFwiPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+PC9kaXY+XG48L2Rpdj5gO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlRGlhbG9nVGVtcGxlID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1vZGFsLWhlYWRlci10aXRsZVwiIHJvbGU9XCJoZWFkaW5nXCI+XG4gICAgICAgICAgICAgICAgQ29uZmlybSBEZWxldGVcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIHRjLWRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgIGNsYXNzPVwiYWN0aW9uLWJ0biBjbG9zZVwiIHJvbGU9XCJidXR0b25cIiB0YWJpbmRleD1cIjBcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHRjLWRhdGEtbW9kZWw9XCJtZXNzYWdlXCIgY2xhc3M9XCJtb2RhbC1ib2R5XCI+VGhpcyBhY3Rpb24gZGVsZXRlIGVudHJ5IGZyb20gZGF0YWJhc2UuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjb250aW51ZT9cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gdGMtZGF0YS1hY3Rpb249XCJva1wiIG5hbWU9XCJva1wiIGNsYXNzPVwiYnRuLW9rXCI+T0s8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gdGMtZGF0YS1kaXNtaXNzPVwiY2FuY2VsXCIgIG5hbWU9XCJjYW5jZWxcIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcblxuLy8gZXhwb3J0IGNvbnN0IGVudHJ5VGFibGVIZWFkVGVtcGxhdGUgPSBgXG4vLyAgICAgICAgICAgICA8dHIgY2xhc3M9XCJoZWFkZXItZmlsdGVyXCI+XG4vLyAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIzXCI+XG4vLyAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGl0bGVcIj5EaWFyeSBFbnRyaWVzPC9zcGFuPlxuLy8gICAgICAgICAgICAgICAgIDwvdGQ+XG4vLyAgICAgICAgICAgICAgICAgPHRkPjwvdGQ+XG4vLyAgICAgICAgICAgICAgICAgPHRkPlxuLy8gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uLWJ0bi1jb250YWluZXJcIj5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiZGVsZXRlRW50cnlcIiB0aXRsZT1cIkRlbGV0ZSBFbnRyaWVzXCIgY2xhc3M9XCJhY3Rpb24tYnRuIGRlbGV0ZSBtLTAgaGlkZVwiIHJvbGU9XCJidXR0b25cIlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQWRkXCI+PC9hPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJhZGRFbnRyeVwiIHRpdGxlPVwiQWRkIEVudHJ5XCIgY2xhc3M9XCJhY3Rpb24tYnRuIGFkZCBtLTBcIiByb2xlPVwiYnV0dG9uXCJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkFkZFwiPjwvYT5cbi8vICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4vLyAgICAgICAgICAgICAgICAgPC90ZD5cbi8vXG4vLyAgICAgICAgICAgICA8L3RyPlxuLy8gICAgICAgICAgICAgPHRyPlxuLy8gICAgICAgICAgICAgICAgIDx0ZD5cbi8vICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNoZWNrYm94XCI+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdGMtZGF0YS1hY3Rpb249XCJjaGVja1wiIHR5cGU9XCJjaGVja2JveFwiPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGVjay1tYXJrXCI+PC9zcGFuPlxuLy8gICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuLy8gICAgICAgICAgICAgICAgIDwvdGQ+XG4vLyAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwiY29udGVudC13aWR0aFwiPkNvbnRlbnQ8L3RkPlxuLy8gICAgICAgICAgICAgICAgIDx0ZD5EYXRlPC90ZD5cbi8vICAgICAgICAgICAgICAgICA8dGQ+TGFzdCBNb2RpZmllZDwvdGQ+XG4vLyAgICAgICAgICAgICAgICAgPHRkPjwvdGQ+XG4vLyAgICAgICAgICAgICA8L3RyPmA7XG5cbmV4cG9ydCBjb25zdCBlbnRyeUxpc3RIZWFkZXIgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGl0bGVcIj5Zb3VyIERpYXJ5IEVudHJpZXM8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWRkLWVudHJ5XCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJhZGRFbnRyeVwiIHRpdGxlPVwiQWRkIEVudHJ5XCIgY2xhc3M9XCJidG4gY3JlYXRlXCIgcm9sZT1cImJ1dHRvblwiPkFkZCBEaWFyeSBFbnRyeTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gO1xuXG4vLyBleHBvcnQgY29uc3QgZW50cnlUYWJsZUJvZHlSb3dUZW1wbGF0ZSA9IGBcbi8vICAgICAgICAgICAgIDx0cj5cbi8vICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJcIj48bGFiZWwgY2xhc3M9XCJjdXN0b20tY2hlY2tib3hcIj5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImNoZWNrLWJveFwiIGRhdGEtaW5kZXg9XCJcIiB0Yy1kYXRhLWlkPVwie3tpZH19XCIgdGMtZGF0YS1hY3Rpb249XCJjaGVja1wiIHR5cGU9XCJjaGVja2JveFwiPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGVjay1tYXJrXCI+PC9zcGFuPlxuLy8gICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPjwvdGQ+XG4vLyAgICAgICAgICAgICAgICAgPHRkPlxuLy8gICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRpdGxlXCIgdGMtZGF0YS1tb2RlbD1cInRpdGxlXCI+U2FtcGxlPC9wPlxuLy8gICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNvbnRlbnRcIiB0Yy1kYXRhLW1vZGVsPVwiY29udGVudFwiPlRoaXMgaXMgYSBzYW1wbGUgY29udGVudDwvcD5cbi8vICAgICAgICAgICAgICAgICA8L3RkPlxuLy8gICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIlwiIHRjLWRhdGEtbW9kZWw9XCJjcmVhdGVkRGF0ZVwiPmRhdGUgY3JlYXRlZCBzYW1wbGU8L3RkPlxuLy8gICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIlwiICB0Yy1kYXRhLW1vZGVsPVwibGFzdE1vZGlmaWVkXCI+bGFzdCBtb2RpZmllZDwvdGQ+XG4vLyAgICAgICAgICAgICAgICAgPHRkPlxuLy8gICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duXCI+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgZGF0YS1pbmRleD1cIlwiICB0Yy1kYXRhLWFjdGlvbj1cImRyb3Bkb3duLXRvZ2dsZVwiIGNsYXNzPVwiZHJvcGRvd24tdG9nZ2xlXCI+PC9hPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIHRjLWRhdGEtYWN0aW9uPVwidmlld1wiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCI+VmlldzwvYT48L2xpPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgdGMtZGF0YS1hY3Rpb249XCJlZGl0XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIj5FZGl0PC9hPjwvbGk+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSB0Yy1kYXRhLWFjdGlvbj1cImRlbGV0ZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCI+RGVsZXRlPC9hPjwvbGk+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuLy8gICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbi8vICAgICAgICAgICAgICAgICA8L3RkPlxuLy8gICAgICAgICAgICAgPC90cj5gO1xuXG5leHBvcnQgY29uc3QgZW50cnlMaXN0SXRlbVRlbXBsYXRlID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVudHJ5XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0aXRsZVwiIHRjLWRhdGEtbW9kZWw9XCJ0aXRsZVwiPjwvcD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudCBsaW5lLWNsYW1wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiYmxvY2std2l0aC10ZXh0XCIgdGMtZGF0YS1tb2RlbD1cImNvbnRlbnRcIj48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+TGFzdCBNb2RpZmllZDo8L3NwYW4+Jm5ic3A7XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiB0Yy1kYXRhLW1vZGVsPVwibGFzdE1vZGlmaWVkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBkYXRhLWluZGV4PVwiXCIgdGMtZGF0YS1hY3Rpb249XCJkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkcm9wZG93bi10b2dnbGUtaWNvblwiPjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgdGMtZGF0YS1hY3Rpb249XCJ2aWV3XCI+VmlldzwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSB0Yy1kYXRhLWFjdGlvbj1cImVkaXRcIj5FZGl0PC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIHRjLWRhdGEtYWN0aW9uPVwiZGVsZXRlXCI+RGVsZXRlPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmA7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFbnRyeVRlbXBsYXRlID0gYCAgICAgICBcbiAgICA8ZGl2IGNsYXNzPVwiZmxleGJveC1wYXJlbnQgc2Nyb2xsYWJsZVwiPlxuICAgICAgPGRpdiBpZD1cImFsZXJ0XCIgY2xhc3M9XCJhbGVydCBlcnJvclwiPlxuICAgICAgICAgIDxwIGNsYXNzPVwiYWxlcnQtbXNnXCI+PC9wPlxuICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgY2xhc3M9XCJjbG9zZS1idG5cIj4mdGltZXM7PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBpZD1cIm1vZGFsLWhlYWRlci10aXRsZVwiPlxuICAgICAgICAgICAgICA8cCB0Yy1kYXRhLW1vZGVsPVwibGFzdE1vZGlmaWVkXCI+PC9wPlxuICAgICAgICAgICAgICA8aW5wdXQgdGMtZGF0YS1tb2RlbD1cInRpdGxlXCIgcGxhY2Vob2xkZXI9XCJUaXRsZVwiIGNsYXNzPVwiZm9ybS1pbnB1dCBtb2RhbC1oZWFkZXItaW5wdXRcIj5cbiAgICAgICAgICAgICAgPCEtLTxzcGFuIHRjLWRhdGEtbW9kZWw9XCJ0aXRsZVwiIGNsYXNzPVwibW9kYWwtaGVhZGVyLXRpdGxlXCI+PC9zcGFuPi0tPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuIHRjLWRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgY2xhc3M9XCJhY3Rpb24tYnRuIGNsb3NlXCIgcm9sZT1cImJ1dHRvblwiIHRhYmluZGV4PVwiMFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImdyb3ctYm9keSBtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNyZWF0ZS1lbnRyeVwiPlxuICAgICAgICAgICAgICA8dGV4dGFyZWEgcGxhY2Vob2xkZXI9XCJEZWFyIERpYXJ5LCBcIiBpZD1cImVudHJ5XCIgYXV0b2ZvY3VzPjwvdGV4dGFyZWE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvbiB0Yy1kYXRhLWFjdGlvbj1cInNhdmVcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4tc2F2ZVwiPlNhdmU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiB0Yy1kYXRhLWRpc21pc3M9XCJjYW5jZWxcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4tY2FuY2VsXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICAgPC9kaXY+XG5gO1xuZXhwb3J0IGNvbnN0IHZpZXdFbnRyeVRlbXBsYXRlID0gYFxuICAgICA8ZGl2ICBjbGFzcz1cInNjcm9sbGFibGVcIj4gICAgICAgICAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJtb2RhbC1oZWFkZXItdGl0bGVcIj5cbiAgICAgICAgICAgICAgICA8cCB0Yy1kYXRhLW1vZGVsPVwibGFzdE1vZGlmaWVkXCI+PC9wPlxuICAgICAgICAgICAgICAgIDxzcGFuIHRjLWRhdGEtbW9kZWw9XCJ0aXRsZVwiIGNsYXNzPVwibW9kYWwtaGVhZGVyLXRpdGxlXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiB0Yy1kYXRhLWRpc21pc3M9XCJtb2RhbFwiICBjbGFzcz1cImFjdGlvbi1idG4gY2xvc2VcIiByb2xlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCIwXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PC9zcGFuPlxuICAgICAgICA8L2Rpdj4gICAgICAgICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImdyb3ctYm9keSBtb2RhbC1ib2R5XCI+IFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtY29udGFpbmVyXCI+PC9kaXY+ICAgICAgICAgICAgICAgIFxuICAgICAgICA8L2Rpdj4gIFxuICAgICA8L2Rpdj5cbmA7XG5leHBvcnQgY29uc3QgbG9hZGluZ1RlbXBsYXRlID0gYFxuICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLWNvbnRhaW5lciBsb2FkaW5nLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLXJpbmdcIj5cbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbmV4cG9ydCBjb25zdCBlbXB0eUxpc3RUZW1wbGUgPSAnPGRpdiBjbGFzcz1cImVtcHR5LWxpc3RcIj48c3Bhbj5ObyBFbnRyeTwvc3Bhbj48L2Rpdj4nO1xuXG5leHBvcnQgY29uc3QgbmF2YmFySGVhZGVyVGVtcGxhdGUgPSBgIFxuICAgIDxkaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibmF2LWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoZWFkZXIgY2xhc3M9XCJuYXYtaGVhZGVyXCI+XG4gICAgICAgICAgPGEgY2xhc3M9XCJuYXZpY29uXCI+XG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIzXCIgaGVpZ2h0PVwiMTlcIiB2aWV3Qm94PVwiMCAwIDIzIDE5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGcgZmlsbD1cIm5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgZmlsbD1cIiM1NTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHk9XCIxNlwiIHdpZHRoPVwiMjNcIiBoZWlnaHQ9XCIzXCIgcng9XCIxLjVcIj48L3JlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB3aWR0aD1cIjIzXCIgaGVpZ2h0PVwiM1wiIHJ4PVwiMS41XCI+PC9yZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeT1cIjhcIiB3aWR0aD1cIjIzXCIgaGVpZ2h0PVwiM1wiIHJ4PVwiMS41XCI+PC9yZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxhIGhyZWY9XCJpbmRleC5odG1sXCIgY2xhc3M9XCJoZWFkZXItbG9nb1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxvZ28taW1nXCI+PC9zcGFuPiAgICAgICAgICAgIFxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibmF2XCI+XG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxvZ2dlZC1pblwiPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJkYXNoYm9hcmQuaHRtbFwiPkRhc2hib2FyZDwvYT5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cInByb2ZpbGUuaHRtbFwiPlByb2ZpbGU8L2E+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibG9nb3V0LWpzXCI+TG9nb3V0PC9hPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibG9nZ2VkLW91dFwiPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJzaWduaW4uaHRtbFwiPlNpZ24gSW48L2E+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiYnRuIHNpZ251cFwiIGhyZWY9XCJzaWdudXAuaHRtbFwiPlNpZ24gVXA8L2E+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8L3VsPiAgICAgICAgICAgIFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+ICAgICBcbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInNpZGUtbmF2XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuYXZcIj5cbiAgICAgICAgICAgIDxzcGFuIHRjLWRhdGEtZGlzbWlzcz1cInNpZGUtbmF2XCIgIGNsYXNzPVwiYWN0aW9uLWJ0biBjbG9zZVwiIHJvbGU9XCJidXR0b25cIiB0YWJpbmRleD1cIjBcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48L3NwYW4+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJsb2dnZWQtaW5cIj5cbiAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJkYXNoYm9hcmQuaHRtbFwiPkRhc2hib2FyZDwvYT5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cInByb2ZpbGUuaHRtbFwiPlByb2ZpbGU8L2E+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibG9nb3V0LWpzXCI+TG9nb3V0PC9hPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibG9nZ2VkLW91dFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJzaWduaW4uaHRtbFwiPlNpZ24gSW48L2E+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJzaWdudXAuaHRtbFwiPlNpZ24gVXA8L2E+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuYDtcbmV4cG9ydCBjb25zdCBmbG9hdGluZ0J1dHRvbiA9IGBcbiAgICA8YSB0aXRsZT1cIkFkZCBFbnRyeVwiIHJvbGU9XCJidXR0b25cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbG9hdGluZy1idXR0b24gc2hvdy1vbi1tb2JpbGVcIj5cbiAgICAgICAgICA8c3BhbiB0aXRsZT1cIkFkZCBFbnRyeVwiIHJvbGU9XCJidXR0b25cIiBjbGFzcz1cInBsdXNcIj4mcGx1czs8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2E+YDtcbiIsImltcG9ydCB7IGh0bWxUb0VsZW1lbnQgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgbmF2YmFySGVhZGVyVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdkJhclZpZXcge1xuICBzdGF0aWMgbG9nb3V0SGFuZGxlKCkge1xuICAgIGxvY2FsU3RvcmFnZS5jbGVhcignYXV0aGVudGljYXRpb25Ub2tlbicpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCdpbmRleC5odG1sJyk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnZpZWV3RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXZiYXInKTtcbiAgICB0aGlzLnZpZWV3RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMudmllZXdFbGVtZW50LmFwcGVuZENoaWxkKGh0bWxUb0VsZW1lbnQobmF2YmFySGVhZGVyVGVtcGxhdGUpKTtcbiAgICBjb25zdCBsb2dvdXQgPSB0aGlzLnZpZWV3RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubG9nb3V0LWpzJyk7XG5cbiAgICBsb2dvdXRbMF0ub25jbGljayA9IE5hdkJhclZpZXcubG9nb3V0SGFuZGxlO1xuICAgIGxvZ291dFsxXS5vbmNsaWNrID0gTmF2QmFyVmlldy5sb2dvdXRIYW5kbGU7XG5cbiAgICBjb25zdCBkaXNtaXNzU2lkZU5hdkJ1dHRvbiA9IHRoaXMudmllZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1t0Yy1kYXRhLWRpc21pc3M9XCJzaWRlLW5hdlwiXScpO1xuICAgIGRpc21pc3NTaWRlTmF2QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLmhpZGVPclNob3dTaWRlTmF2KCdoaWRlJyk7XG4gICAgfTtcbiAgICBjb25zdCBzaG93U2lkZU5hdkJ1dHRvbiA9IHRoaXMudmllZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpY29uJyk7XG4gICAgc2hvd1NpZGVOYXZCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMuaGlkZU9yU2hvd1NpZGVOYXYoJ3Nob3cnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2lkZU5hdiA9IHRoaXMudmllZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLW5hdicpO1xuICAgIHNpZGVOYXYub25jbGljayA9IChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmhpZGVPclNob3dTaWRlTmF2KCdoaWRlJyk7XG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLnZpZWV3RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIGNvbnN0IGxvZ291dEVsZW1lbnQgPSB0aGlzLnZpZWV3RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubG9nZ2VkLW91dCcpO1xuICAgIGNvbnN0IGxvZ2luRWxlbWVudCA9IHRoaXMudmllZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2dnZWQtaW4nKTtcblxuICAgIGlmIChsb2NhbFN0b3JhZ2UuYXV0aGVudGljYXRpb25Ub2tlbikge1xuICAgICAgbG9naW5FbGVtZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICBsb2dvdXRFbGVtZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgIGxvZ2luRWxlbWVudFsxXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIGxvZ291dEVsZW1lbnRbMV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9IGVsc2Uge1xuICAgICAgbG9naW5FbGVtZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBsb2dvdXRFbGVtZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cbiAgICAgIGxvZ2luRWxlbWVudFsxXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgbG9nb3V0RWxlbWVudFsxXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gIH1cblxuICBoaWRlT3JTaG93U2lkZU5hdihhY3Rpb24pIHtcbiAgICBjb25zdCBzaWRlTmF2ID0gdGhpcy52aWVld0VsZW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGUtbmF2Jyk7XG4gICAgY29uc3QgbmF2ID0gc2lkZU5hdi5xdWVyeVNlbGVjdG9yKCcubmF2Jyk7XG4gICAgaWYgKGFjdGlvbiA9PT0gJ2hpZGUnKSB7XG4gICAgICBzaWRlTmF2LnN0eWxlLndpZHRoID0gJzAnO1xuICAgICAgbmF2LnN0eWxlLndpZHRoID0gJzAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaWRlTmF2LnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgICAgIG5hdi5zdHlsZS53aWR0aCA9ICcyNTBweCc7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgTmF2QmFyVmlldyBmcm9tICcuL25hdmJhclZpZXcnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBuYXZiYXIgPSBuZXcgTmF2QmFyVmlldygpO1xuICBuYXZiYXIucmVuZGVyKCk7XG4gIGlmICh0eXBlb2YgKFN0b3JhZ2UpICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIENvZGUgZm9yIGxvY2FsU3RvcmFnZS9zZXNzaW9uU3RvcmFnZS5cbiAgICBpZiAobG9jYWxTdG9yYWdlLmF1dGhlbnRpY2F0aW9uVG9rZW4pIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCdkYXNoYm9hcmQuaHRtbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBTb3JyeSEgTm8gV2ViIFN0b3JhZ2Ugc3VwcG9ydC4uXG4gIH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==