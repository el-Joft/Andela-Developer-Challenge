!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=89)}({1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){for(var n=t.split("."),o=e;n.length;){var i=n.shift().trim();if(!("object"===(void 0===o?"undefined":a(o))&&i in o))return null;o=o[i]}return o}function i(e,t){var n=e,a=o(t,n.getAttribute("tc-data-model"));"INPUT"===n.nodeName||"SELECT"===n.nodeName||"TEXTAREA"===n.nodeName?n.value=a||"":n.innerHTML=a}function r(e,t){return e.test(t)}function l(e){return function(t,n){return o(e,n)}}t.htmlToElement=function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild},t.getValue=o,t.bindPropertiesToElement=function(e,t){if(!t)return;for(var n=0;n<e.length;n+=1)i(e[n],t)},t.requiresSubstitution=r,t.getSubstituteValue=l,t.formatter=function(e,t){var n=/{{([^{]*?)}}/g,a=e;r(n,e)&&(a=e.replace(n,l(t)));return a},t.stopAlertTime=c,t.showAlert=function(e,t){c();var n=document.getElementById("alert");if(!n)return;n.className="",n.classList.add("alert"),n.classList.add(t);var a=n.querySelector(".alert-msg"),o=n.querySelector(".close-btn"),i=function(){return function(){n.style.display="none"}}();a.innerHTML=e,n.style.display="block",o.onclick=i,s=setTimeout(i,8e3)},t.getFieldsAsObject=function(e){var t={};return e.querySelectorAll("input").forEach(function(e){var n=e.getAttribute("name");t[n]=e.value}),e.querySelectorAll("select").forEach(function(e){var n=e.getAttribute("name");t[n]=e.options[e.selectedIndex].value}),t},t.showToast=function(e,t){clearTimeout(d);var n=document.getElementById("toast");if(!n)return;n.className="",n.classList.add("toast");var a=n.querySelector(".alert-msg"),o=n.querySelector(".close-btn"),i=function(){return function(){n.classList.remove("show"),n.classList.add("dismiss")}}();a.innerHTML=e,n.classList.add("show"),n.classList.remove("dismiss"),n.classList.add(t),o.onclick=i,d=setTimeout(i,8e3)},t.trimDate=function(e){return e.substring(0,e.length-5).trim()};var s=null;function c(){clearTimeout(s)}var d=null},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.modalBoxTemplate='\n<div id="modal-box" class="modal">\n    <div class="modal-content"></div>\n</div>',t.deleteDialogTemple='\n        <div class="modal-header">\n            <span class="modal-header-title" role="heading">\n                Confirm Delete\n            </span>\n            <span tc-data-dismiss="modal"  class="action-btn close" role="button" tabindex="0" aria-label="Close"></span>\n        </div>\n        <div tc-data-model="message" class="modal-body">This action delete entry from database. Are you sure you want to continue?\n        </div>\n        <div class="modal-footer">\n            <button tc-data-action="ok" name="ok" class="btn-ok">OK</button>\n            <button tc-data-dismiss="cancel"  name="cancel">Cancel</button>\n        </div>',t.entryListHeader='\n        <div class="header">\n            <span class="title">Your Diary Entries</span>\n            <div class="add-entry">\n                <a id="addEntry" title="Add Entry" class="btn create" role="button">Add Diary Entry</a>\n            </div>\n        </div>',t.entryListItemTemplate='\n            <div class="entry">\n                <p class="title" tc-data-model="title"></p>\n                <div class="content line-clamp">\n                    <p class="block-with-text" tc-data-model="content"></p>\n                </div>\n                <div class="footer">\n                    <div>\n                        <span>Last Modified:</span>&nbsp;\n                        <span tc-data-model="lastModified"></span>\n                    </div>\n                    <div class="dropdown">\n                        <a data-index="" tc-data-action="dropdown-toggle"\n                           class="dropdown-toggle-icon"></a>\n                        <ul class="dropdown-menu">\n                            <li><a tc-data-action="view">View</a></li>\n                            <li><a tc-data-action="edit">Edit</a></li>\n                            <li><a tc-data-action="delete">Delete</a></li>\n                        </ul>\n                    </div>\n                </div>\n            </div>',t.createEntryTemplate='       \n    <div class="flexbox-parent scrollable">\n      <div id="alert" class="alert error">\n          <p class="alert-msg"></p>\n          <a href="javascript:void(0);" class="close-btn">&times;</a>\n      </div>\n      <div class="modal-header">\n          <div id="modal-header-title">\n              <p tc-data-model="lastModified"></p>\n              <input tc-data-model="title" placeholder="Title" class="form-input modal-header-input">\n              \x3c!--<span tc-data-model="title" class="modal-header-title"></span>--\x3e\n          </div>\n          <span tc-data-dismiss="modal" class="action-btn close" role="button" tabindex="0" aria-label="Close"></span>\n      </div>\n      <div class="grow-body modal-body">\n          <div class="create-entry">\n              <textarea placeholder="Dear Diary, " id="entry" autofocus></textarea>\n          </div>\n      </div>\n      <div class="modal-footer">\n        <button tc-data-action="save" type="button" class="btn-save">Save</button>\n        <button tc-data-dismiss="cancel" type="button" class="btn-cancel">Cancel</button>\n    </div>\n    </div>\n',t.viewEntryTemplate='\n     <div  class="scrollable">                \n        <div class="modal-header">\n            <div id="modal-header-title">\n                <p tc-data-model="lastModified"></p>\n                <span tc-data-model="title" class="modal-header-title"></span>\n            </div>\n            <span tc-data-dismiss="modal"  class="action-btn close" role="button" tabindex="0" aria-label="Close"></span>\n        </div>               \n        <div class="grow-body modal-body"> \n            <div class="content-container"></div>                \n        </div>  \n     </div>\n',t.loadingTemplate='\n    <div class="loading-container loading-bg">\n        <div class="loading-ring">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>\n    </div>',t.emptyListTemple='<div class="empty-list"><span>No Entry</span></div>',t.navbarHeaderTemplate=' \n    <div>\n      <div class="nav-container">\n          <header class="nav-header">\n          <a class="navicon">\n            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="19" viewBox="0 0 23 19">\n                      <g fill="none">\n                          <g fill="#555">\n                              <rect y="16" width="23" height="3" rx="1.5"></rect>\n                              <rect width="23" height="3" rx="1.5"></rect>\n                              <rect y="8" width="23" height="3" rx="1.5"></rect>\n                          </g>\n                      </g>\n                  </svg>\n          </a>\n          <a href="index.html" class="header-logo">\n              <span class="logo-img"></span>            \n          </a>\n          <div class="nav">\n              <ul class="logged-in">\n                  <li>\n                      <a href="dashboard.html">Dashboard</a>\n                  </li>\n                  <li>\n                      <a href="profile.html">Profile</a>\n                  </li>\n                  <li>\n                      <a class="logout-js">Logout</a>\n                  </li>\n              </ul>\n              <ul class="logged-out">\n                  <li>\n                      <a href="signin.html">Sign In</a>\n                  </li>\n                  <li>\n                      <a class="btn signup" href="signup.html">Sign Up</a>\n                  </li>\n              </ul>            \n          </div>\n      </header>     \n      </div>\n      <div class="side-nav">\n        <div class="nav">\n            <span tc-data-dismiss="side-nav"  class="action-btn close" role="button" tabindex="0" aria-label="Close"></span>\n            <ul class="logged-in">\n                <li>\n                    <a href="dashboard.html">Dashboard</a>\n                </li>\n                <li>\n                    <a href="profile.html">Profile</a>\n                </li>\n                <li>\n                    <a class="logout-js">Logout</a>\n                </li>\n            </ul>\n            <ul class="logged-out" style="display: none;">\n                <li>\n                    <a href="signin.html">Sign In</a>\n                </li>\n                <li>\n                    <a href="signup.html">Sign Up</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n    </div>\n',t.floatingButton='\n    <a title="Add Entry" role="button">\n      <div class="floating-button show-on-mobile">\n          <span title="Add Entry" role="button" class="plus">&plus;</span>\n      </div>\n    </a>'},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEntryUrlByID=function(e){return r+"/"+e};var a=t.baseUrl="https://shielded-waters-94006.herokuapp.com",o=t.apiVersion="/api/v1",i=t.apiUrl=a+o,r=(t.userProfile=i+"/account/me/detailed",t.changePassword=i+"/account/change-password",t.reminderUrl=i+"/account/user/reminder/settings",t.registrationEndpoint=i+"/auth/signup",t.authenticationEndpoint=i+"/auth/login",t.entriesEndpoint=i+"/entries")},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"request",value:function(){return function(e,t,n){var a={method:e,body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};return localStorage.authenticationToken&&(a.headers["X-Access-Token"]=localStorage.authenticationToken),fetch(t,a).then(function(e){var t=e.status;if(401===t&&(localStorage.clear(),location.replace("signin.html")),t<400||t>=600){var n=e.headers.get("X-Access-Token");return n&&(localStorage.authenticationToken=n),Promise.resolve(e)}return Promise.resolve(e.json()).then(function(e){return Promise.reject(new Error(e.message))})}).then(function(e){return e.json()})}}()},{key:"get",value:function(){return function(e){return this.request("GET",e)}}()},{key:"post",value:function(){return function(e,t){return this.request("POST",e,t)}}()},{key:"put",value:function(){return function(e,t){return this.request("PUT",e,t)}}()},{key:"delete",value:function(){return function(e,t){return this.request("DELETE",e,t)}}()}]),e}());t.default=o},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),i=n(2);var r=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vieewElement=document.getElementById("navbar"),this.vieewElement.style.display="none",this.vieewElement.appendChild((0,o.htmlToElement)(i.navbarHeaderTemplate));var n=this.vieewElement.querySelectorAll(".logout-js");n[0].onclick=e.logoutHandle,n[1].onclick=e.logoutHandle,this.vieewElement.querySelector('[tc-data-dismiss="side-nav"]').onclick=function(){t.hideOrShowSideNav("hide")},this.vieewElement.querySelector(".navicon").onclick=function(){t.hideOrShowSideNav("show")},this.vieewElement.querySelector(".side-nav").onclick=function(e){e.target.classList.contains("nav")||t.hideOrShowSideNav("hide")}}return a(e,null,[{key:"logoutHandle",value:function(){return function(){localStorage.clear("authenticationToken"),window.location.replace("index.html")}}()}]),a(e,[{key:"render",value:function(){return function(){this.vieewElement.style.display="flex";var e=this.vieewElement.querySelectorAll(".logged-out"),t=this.vieewElement.querySelectorAll(".logged-in");localStorage.authenticationToken?(t[0].style.display="flex",e[0].style.display="none",t[1].style.display="block",e[1].style.display="none"):(t[0].style.display="none",e[0].style.display="flex",t[1].style.display="none",e[1].style.display="block")}}()},{key:"hideOrShowSideNav",value:function(){return function(e){var t=this.vieewElement.querySelector(".side-nav"),n=t.querySelector(".nav");"hide"===e?(t.style.width="0",n.style.width="0"):(t.style.width="100vw",n.style.width="250px")}}()}]),e}();t.default=r},89:function(e,t,n){"use strict";var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(1),i=n(3),r=s(n(8)),l=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=Number(e);return t>=0&&t<10&&(t="0"+t),t}function d(e,t,n){var a=e;return a<t?a=t:a>n&&(a=n),a}function u(e){var t=e.target,n=t.getAttribute("data-unit"),a=t.value;n&&"hours"===n?a=d(a,0,23):n&&"minutes"===n&&(a=d(a,0,59)),t.value=parseInt(a,10)}function v(e){var t=document.getElementById("hours"),n=document.getElementById("minutes"),a=e.target;n.classList.remove("hasFocus"),t.classList.remove("hasFocus"),a.classList.add("hasFocus")}function m(e){var t=e.target,n=t.value;t.value=c(n)}function f(){var e=document.getElementById("minutes"),t=document.querySelector(".hasFocus");return t||(e.focus(),t=e),t}function p(e){return e<0?23:e>23?"00":c(e)}function h(e){var t=document.getElementById("hours"),n=f(),a=function(e,t){var n=0;if(!e)return n;"up"===e?n=t%15==0?t+15:15*(parseInt(t/15,10)+1):"down"===e&&(n=t%15==0?t-15:15*parseInt((0===t?60:t)/15,10));return n}(e.getAttribute("data-direction"),Number(n.value)),o=Number(t.value);a<=0?(n.value=59,o-=1,t.value=p(o)):a>=60?(n.value="00",o+=1,t.value=p(o)):n.value=c(a)}function y(e){var t=e.target,n=f();"minutes"===n.id?h(t):"hours"===n.id&&function(e){var t=e.getAttribute("data-direction"),n=f(),a=Number(n.value);t&&"down"===t?a-=1:t&&"up"===t&&(a+=1),n.value=p(a)}(t)}function g(e){e.then(function(e){(0,o.showToast)(e.message,"success")}).catch(function(e){(0,o.showToast)(e.message,"error")})}function b(e){e.preventDefault();var t=document.getElementById("changePassword"),n=(0,o.getFieldsAsObject)(t);n.newPassword===n.matchPassword?g(l.default.post(i.changePassword,n)):(0,o.showToast)("Password doesn't match","error")}function w(e){e.preventDefault();var t=document.getElementById("reminderForm"),n=(0,o.getFieldsAsObject)(t);n.time=n.hours+":"+n.minutes,g(l.default.put(i.reminderUrl,n))}document.addEventListener("DOMContentLoaded",function(){var e=new r.default;"undefined"!=typeof Storage&&(localStorage.authenticationToken?(e.render(),function(){var e=document.getElementById("hours"),t=document.getElementById("minutes");e.onkeyup=u,e.onchange=u,e.onpaste=u,e.oncut=u,t.onkeyup=u,t.onchange=u,t.onpaste=u,t.oncut=u,e.onblur=m,t.onblur=m,e.onfocus=v,t.onfocus=v;for(var n=document.querySelectorAll(".time-controller-btn"),a=0;a<n.length;a+=1)n[a].onclick=y}(),l.default.get(i.userProfile).then(function(e){var t=e.data,n=t.user,i=t.reminder,r=t.entry;!function(e){if(!e)return null;var t=document.getElementById("profile").querySelectorAll("[tc-data-model]");(0,o.bindPropertiesToElement)(t,e)}(n),function(e){if(e.time){var t=e.time,n=e.from,i=e.to,r=t.split(":"),l=a(r,2),s=l[0],c=l[1],d=document.getElementById("reminder").querySelectorAll("[tc-data-model]");(0,o.bindPropertiesToElement)(d,{hours:s,minutes:c,from:n,to:i})}}(i),function(e){if(!e)return null;var t=e;t.lastModified=(0,o.trimDate)(t.lastModified);var n=document.getElementById("entrySummary").querySelectorAll("[tc-data-model]");(0,o.bindPropertiesToElement)(n,e)}(r),document.getElementById("changePassword").querySelector("[tc-data-action]").onclick=b,document.getElementById("reminderForm").querySelector("[tc-data-action]").onclick=w}).catch(function(e){(0,o.showToast)(e.message,"error")})):window.location.replace("signin.html"))})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vdWkvc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvc3JjL3RlbXBsYXRlcy5qcyIsIndlYnBhY2s6Ly8vLi91aS9zcmMvZW5kcG9pbnRVcmwuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvc3JjL2ZldGNoV3JhcHBlci5qcyIsIndlYnBhY2s6Ly8vLi91aS9zcmMvbmF2YmFyVmlldy5qcyIsIndlYnBhY2s6Ly8vLi91aS9zcmMvcHJvZmlsZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdldFZhbHVlIiwiY29udGV4dCIsImNvbnRleHRTdHIiLCJzcGxpdEFycmF5Iiwic3BsaXQiLCJjdXJyZW50Q29udGV4dCIsImxlbmd0aCIsIml0ZW0iLCJzaGlmdCIsInRyaW0iLCJfdHlwZW9mIiwic2V0RWxlbWVudFZhbHVlIiwidGFyZ2V0IiwibW9kZWwiLCJlbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwibm9kZU5hbWUiLCJpbm5lckhUTUwiLCJyZXF1aXJlc1N1YnN0aXR1dGlvbiIsInJlZ0V4Iiwic3RyIiwidGVzdCIsImdldFN1YnN0aXR1dGVWYWx1ZSIsInJlZ2V4TWF0Y2giLCJwbGFjZWhvbGRlciIsImh0bWxUb0VsZW1lbnQiLCJodG1sIiwidGVtcGxhdGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjb250ZW50IiwiZmlyc3RDaGlsZCIsImJpbmRQcm9wZXJ0aWVzVG9FbGVtZW50IiwiZGF0YU1vZGVsRWxlbWVudHMiLCJmb3JtYXR0ZXIiLCJpbnB1dCIsInJlc3VsdCIsInJlcGxhY2UiLCJzdG9wQWxlcnRUaW1lIiwic2hvd0FsZXJ0IiwibXNnIiwidHlwZSIsImFsZXJ0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJtc2dFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNsb3NlRWxlbWVudCIsImNsb3NlSGFuZGxlciIsInN0eWxlIiwiZGlzcGxheSIsIm9uY2xpY2siLCJ0aW1lciIsInNldFRpbWVvdXQiLCJnZXRGaWVsZHNBc09iamVjdCIsImZvcm0iLCJkYXRhIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsInNob3dUb2FzdCIsImNsZWFyVGltZW91dCIsInRvYXN0VGltZXIiLCJyZW1vdmUiLCJ0cmltRGF0ZSIsImRhdGUiLCJzdWJzdHJpbmciLCJtb2RhbEJveFRlbXBsYXRlIiwiZGVsZXRlRGlhbG9nVGVtcGxlIiwiZW50cnlMaXN0SGVhZGVyIiwiZW50cnlMaXN0SXRlbVRlbXBsYXRlIiwiY3JlYXRlRW50cnlUZW1wbGF0ZSIsInZpZXdFbnRyeVRlbXBsYXRlIiwibG9hZGluZ1RlbXBsYXRlIiwiZW1wdHlMaXN0VGVtcGxlIiwibmF2YmFySGVhZGVyVGVtcGxhdGUiLCJmbG9hdGluZ0J1dHRvbiIsImdldEVudHJ5VXJsQnlJRCIsImlkIiwiZW50cmllc0VuZHBvaW50IiwiYmFzZVVybCIsImFwaVZlcnNpb24iLCJhcGlVcmwiLCJ1c2VyUHJvZmlsZSIsImNoYW5nZVBhc3N3b3JkIiwicmVtaW5kZXJVcmwiLCJyZWdpc3RyYXRpb25FbmRwb2ludCIsImF1dGhlbnRpY2F0aW9uRW5kcG9pbnQiLCJodHRwIiwibWV0aG9kIiwidXJsIiwiYm9keSIsImZldGNoRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwibG9jYWxTdG9yYWdlIiwiYXV0aGVudGljYXRpb25Ub2tlbiIsImZldGNoIiwidGhlbiIsInJlcyIsInN0YXR1cyIsImNsZWFyIiwibG9jYXRpb24iLCJ0b2tlbiIsIlByb21pc2UiLCJyZXNvbHZlIiwianNvbiIsInJlamVjdCIsIkVycm9yIiwibWVzc2FnZSIsInRoaXMiLCJyZXF1ZXN0IiwiX3V0aWwiLCJfdGVtcGxhdGVzIiwiTmF2QmFyVmlldyIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwidmllZXdFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJsb2dvdXQiLCJsb2dvdXRIYW5kbGUiLCJoaWRlT3JTaG93U2lkZU5hdiIsImUiLCJjb250YWlucyIsIndpbmRvdyIsImxvZ291dEVsZW1lbnQiLCJsb2dpbkVsZW1lbnQiLCJhY3Rpb24iLCJzaWRlTmF2IiwibmF2Iiwid2lkdGgiLCJfZW5kcG9pbnRVcmwiLCJwYWRWYWx1ZSIsIk51bWJlciIsInJvdW5kVGltZSIsIm1pbiIsIm1heCIsImlucHV0Q2hhbmdlSGFuZGxlciIsInVuaXQiLCJwYXJzZUludCIsImZvY3VzSGFuZGxlciIsImhvdXJzSW5wdXQiLCJtaW51dGVzSW5wdXQiLCJibHVySGFuZGxlciIsImdldEZvY3VzZWRFbGVtZW50IiwiZm9jdXNlZCIsImZvY3VzIiwicm91bmRBbmRQYWRWYWx1ZSIsImhvdXJWYWx1ZSIsIm1pbnV0ZXNDb250cm9sSGFuZGxlciIsInRhcmdldEVsZW1lbnQiLCJkaXJlY3Rpb24iLCJzdGVwTWludXRlc1ZhbHVlIiwiY29udHJvbEhhbmRsZXIiLCJob3Vyc0NvbnRyb2xIYW5kbGVyIiwiY29uc3VtZUFQSVJlc3VsdCIsInByb21pc2UiLCJlcnIiLCJ1cGRhdGVQYXNzd29yZEhhbmRsZXIiLCJwcmV2ZW50RGVmYXVsdCIsImNoYW5nZVBhc3N3b3JkRm9ybSIsIm5ld1Bhc3N3b3JkIiwibWF0Y2hQYXNzd29yZCIsInBvc3QiLCJ1cGRhdGVSZW1pbmRlckhhbmRsZXIiLCJyZW1pbmRlckZvcm0iLCJ0aW1lIiwiaG91cnMiLCJtaW51dGVzIiwicHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5hdmJhciIsIlN0b3JhZ2UiLCJyZW5kZXIiLCJvbmtleXVwIiwib25jaGFuZ2UiLCJvbnBhc3RlIiwib25jdXQiLCJvbmJsdXIiLCJvbmZvY3VzIiwiY29udHJvbEJ1dHRvbnMiLCJ0aW1lSW5wdXRDb250cm9sbGVyIiwiX3Jlc3VsdCRkYXRhIiwidXNlciIsInJlbWluZGVyIiwiZW50cnkiLCJwcm9maWxlRGF0YU1vZGVsRWxlbWVudHMiLCJiaW5kUHJvZmlsZSIsImZyb20iLCJ0byIsIl90aW1lJHNwbGl0IiwiX3RpbWUkc3BsaXQyIiwiX3NsaWNlZFRvQXJyYXkiLCJyZW1pbmRlckRhdGFNb2RlbEVsZW1lbnRzIiwiYmluZFJlbWluZGVyIiwibGFzdE1vZGlmaWVkIiwiZW50cnlTdW1tYXJ5RGF0YU1vZGVsRWxlbWVudHMiLCJiaW5kRW50cmllc1N1bW1hcnkiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JB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TCxHQUROQyxFQUVXeEIsRUFBS3hLLE1BQU0sS0FGdEJpTSxFQUFBQyxFQUFBRixFQUFBLEdBRVB2QixFQUZPd0IsRUFBQSxHQUVBdkIsRUFGQXVCLEVBQUEsR0FLUkUsRUFEa0IzSyxTQUFTZSxlQUFlLFlBQ0VnQixpQkFBaUIsb0JBQ25FLEVBQUEyRCxFQUFBdEYseUJBQXdCdUssR0FDdEIxQixRQUFPQyxVQUFTb0IsT0FBTUMsUUFvRGxCSyxDQUFhVixHQXRFdkIsU0FBNEJqTCxHQUMxQixJQUFLQSxFQUFPLE9BQU8sS0FDbkIsSUFBTTZDLEVBQU83QyxFQUNiNkMsRUFBSytJLGNBQWUsRUFBQW5GLEVBQUFsRCxVQUFTVixFQUFLK0ksY0FDbEMsSUFDTUMsRUFEZTlLLFNBQVNlLGVBQWUsZ0JBQ01nQixpQkFBaUIsb0JBQ3BFLEVBQUEyRCxFQUFBdEYseUJBQXdCMEssRUFBK0I3TCxHQWlFL0M4TCxDQUFtQlosR0FwQkFuSyxTQUFTZSxlQUFlLGtCQUNISyxjQUFjLG9CQUN6Q0ssUUFBVStHLEVBRVZ4SSxTQUFTZSxlQUFlLGdCQUNUSyxjQUFjLG9CQUNuQ0ssUUFBVXFILElBU3JCLE1BUVMsU0FBQ1AsSUFDTixFQUFBN0MsRUFBQXRELFdBQVVtRyxFQUFJaEQsUUFBUyxZQUczQmUsT0FBT3RCLFNBQVN2RSxRQUFRIiwiZmlsZSI6InByb2ZpbGUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDg5KTtcbiIsImV4cG9ydCBmdW5jdGlvbiBodG1sVG9FbGVtZW50KGh0bWwpIHtcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sLnRyaW0oKTtcbiAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlKGNvbnRleHQsIGNvbnRleHRTdHIpIHtcbiAgY29uc3Qgc3BsaXRBcnJheSA9IGNvbnRleHRTdHIuc3BsaXQoJy4nKTtcbiAgbGV0IGN1cnJlbnRDb250ZXh0ID0gY29udGV4dDtcbiAgd2hpbGUgKHNwbGl0QXJyYXkubGVuZ3RoKSB7XG4gICAgY29uc3QgaXRlbSA9IHNwbGl0QXJyYXkuc2hpZnQoKS50cmltKCk7XG4gICAgaWYgKHR5cGVvZiAoY3VycmVudENvbnRleHQpID09PSAnb2JqZWN0JyAmJiBpdGVtIGluIGN1cnJlbnRDb250ZXh0KSB7XG4gICAgICBjdXJyZW50Q29udGV4dCA9IGN1cnJlbnRDb250ZXh0W2l0ZW1dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRDb250ZXh0O1xufVxuXG5mdW5jdGlvbiBzZXRFbGVtZW50VmFsdWUodGFyZ2V0LCBtb2RlbCkge1xuICBjb25zdCBlbGVtZW50ID0gdGFyZ2V0O1xuICBjb25zdCBkYXRhID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RjLWRhdGEtbW9kZWwnKTtcbiAgY29uc3QgdmFsdWUgPSBnZXRWYWx1ZShtb2RlbCwgZGF0YSk7XG4gIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnXG4gICAgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCdcbiAgICB8fCBlbGVtZW50Lm5vZGVOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgZWxlbWVudC52YWx1ZSA9IHZhbHVlIHx8ICcnO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRQcm9wZXJ0aWVzVG9FbGVtZW50KGRhdGFNb2RlbEVsZW1lbnRzLCBtb2RlbCkge1xuICBpZiAoIW1vZGVsKSByZXR1cm47XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YU1vZGVsRWxlbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzZXRFbGVtZW50VmFsdWUoZGF0YU1vZGVsRWxlbWVudHNbaV0sIG1vZGVsKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZXNTdWJzdGl0dXRpb24ocmVnRXgsIHN0cikge1xuICByZXR1cm4gcmVnRXgudGVzdChzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3Vic3RpdHV0ZVZhbHVlKGNvbnRleHQpIHtcbiAgcmV0dXJuIChyZWdleE1hdGNoLCBwbGFjZWhvbGRlcikgPT4gZ2V0VmFsdWUoY29udGV4dCwgcGxhY2Vob2xkZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0dGVyKGlucHV0LCBjb250ZXh0KSB7XG4gIGNvbnN0IHJlZ0V4ID0gL3t7KFtee10qPyl9fS9nO1xuICBsZXQgcmVzdWx0ID0gaW5wdXQ7XG4gIGlmIChyZXF1aXJlc1N1YnN0aXR1dGlvbihyZWdFeCwgaW5wdXQpKSB7XG4gICAgcmVzdWx0ID0gaW5wdXQucmVwbGFjZShyZWdFeCwgZ2V0U3Vic3RpdHV0ZVZhbHVlKGNvbnRleHQpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5sZXQgdGltZXIgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RvcEFsZXJ0VGltZSgpIHtcbiAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dBbGVydChtc2csIHR5cGUpIHtcbiAgc3RvcEFsZXJ0VGltZSgpO1xuICBjb25zdCBhbGVydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGVydCcpO1xuICBpZiAoIWFsZXJ0KSByZXR1cm47XG4gIGFsZXJ0LmNsYXNzTmFtZSA9ICcnO1xuICBhbGVydC5jbGFzc0xpc3QuYWRkKCdhbGVydCcpO1xuICBhbGVydC5jbGFzc0xpc3QuYWRkKHR5cGUpO1xuICBjb25zdCBtc2dFbGVtZW50ID0gYWxlcnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LW1zZycpO1xuICBjb25zdCBjbG9zZUVsZW1lbnQgPSBhbGVydC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJyk7XG4gIGNvbnN0IGNsb3NlSGFuZGxlciA9ICgpID0+IHtcbiAgICBhbGVydC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9O1xuICBtc2dFbGVtZW50LmlubmVySFRNTCA9IG1zZztcbiAgYWxlcnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgY2xvc2VFbGVtZW50Lm9uY2xpY2sgPSBjbG9zZUhhbmRsZXI7XG4gIHRpbWVyID0gc2V0VGltZW91dChjbG9zZUhhbmRsZXIsIDgwMDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmllbGRzQXNPYmplY3QoZm9ybSkge1xuICBjb25zdCBkYXRhID0ge307XG4gIGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKS5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBuYW1lID0gaW5wdXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgIGRhdGFbbmFtZV0gPSBpbnB1dEVsZW1lbnQudmFsdWU7XG4gIH0pO1xuICBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdCcpLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBpbnB1dEVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgZGF0YVtuYW1lXSA9IGlucHV0RWxlbWVudC5vcHRpb25zW2lucHV0RWxlbWVudC5zZWxlY3RlZEluZGV4XS52YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufVxuXG5sZXQgdG9hc3RUaW1lciA9IG51bGw7XG5cbmZ1bmN0aW9uIHN0b3BUb2FzdFRpbWVyKCkge1xuICBjbGVhclRpbWVvdXQodG9hc3RUaW1lcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93VG9hc3QobXNnLCB0eXBlKSB7XG4gIHN0b3BUb2FzdFRpbWVyKCk7XG4gIGNvbnN0IGFsZXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvYXN0Jyk7XG4gIGlmICghYWxlcnQpIHJldHVybjtcbiAgYWxlcnQuY2xhc3NOYW1lID0gJyc7XG4gIGFsZXJ0LmNsYXNzTGlzdC5hZGQoJ3RvYXN0Jyk7XG4gIGNvbnN0IG1zZ0VsZW1lbnQgPSBhbGVydC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtbXNnJyk7XG4gIGNvbnN0IGNsb3NlRWxlbWVudCA9IGFsZXJ0LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1idG4nKTtcbiAgY29uc3QgY2xvc2VIYW5kbGVyID0gKCkgPT4ge1xuICAgIGFsZXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICBhbGVydC5jbGFzc0xpc3QuYWRkKCdkaXNtaXNzJyk7XG4gIH07XG4gIG1zZ0VsZW1lbnQuaW5uZXJIVE1MID0gbXNnO1xuICBhbGVydC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gIGFsZXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc21pc3MnKTtcbiAgYWxlcnQuY2xhc3NMaXN0LmFkZCh0eXBlKTtcblxuICBjbG9zZUVsZW1lbnQub25jbGljayA9IGNsb3NlSGFuZGxlcjtcbiAgdG9hc3RUaW1lciA9IHNldFRpbWVvdXQoY2xvc2VIYW5kbGVyLCA4MDAwKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdHJpbURhdGUoZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5zdWJzdHJpbmcoMCwgZGF0ZS5sZW5ndGggLSA1KS50cmltKCk7XG59XG4iLCJleHBvcnQgY29uc3QgbW9kYWxCb3hUZW1wbGF0ZSA9IGBcbjxkaXYgaWQ9XCJtb2RhbC1ib3hcIiBjbGFzcz1cIm1vZGFsXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj48L2Rpdj5cbjwvZGl2PmA7XG5cbmV4cG9ydCBjb25zdCBkZWxldGVEaWFsb2dUZW1wbGUgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibW9kYWwtaGVhZGVyLXRpdGxlXCIgcm9sZT1cImhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgICBDb25maXJtIERlbGV0ZVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gdGMtZGF0YS1kaXNtaXNzPVwibW9kYWxcIiAgY2xhc3M9XCJhY3Rpb24tYnRuIGNsb3NlXCIgcm9sZT1cImJ1dHRvblwiIHRhYmluZGV4PVwiMFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgdGMtZGF0YS1tb2RlbD1cIm1lc3NhZ2VcIiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5UaGlzIGFjdGlvbiBkZWxldGUgZW50cnkgZnJvbSBkYXRhYmFzZS4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNvbnRpbnVlP1xuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0Yy1kYXRhLWFjdGlvbj1cIm9rXCIgbmFtZT1cIm9rXCIgY2xhc3M9XCJidG4tb2tcIj5PSzwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiB0Yy1kYXRhLWRpc21pc3M9XCJjYW5jZWxcIiAgbmFtZT1cImNhbmNlbFwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuXG4vLyBleHBvcnQgY29uc3QgZW50cnlUYWJsZUhlYWRUZW1wbGF0ZSA9IGBcbi8vICAgICAgICAgICAgIDx0ciBjbGFzcz1cImhlYWRlci1maWx0ZXJcIj5cbi8vICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjNcIj5cbi8vICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPkRpYXJ5IEVudHJpZXM8L3NwYW4+XG4vLyAgICAgICAgICAgICAgICAgPC90ZD5cbi8vICAgICAgICAgICAgICAgICA8dGQ+PC90ZD5cbi8vICAgICAgICAgICAgICAgICA8dGQ+XG4vLyAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb24tYnRuLWNvbnRhaW5lclwiPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJkZWxldGVFbnRyeVwiIHRpdGxlPVwiRGVsZXRlIEVudHJpZXNcIiBjbGFzcz1cImFjdGlvbi1idG4gZGVsZXRlIG0tMCBoaWRlXCIgcm9sZT1cImJ1dHRvblwiXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJBZGRcIj48L2E+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImFkZEVudHJ5XCIgdGl0bGU9XCJBZGQgRW50cnlcIiBjbGFzcz1cImFjdGlvbi1idG4gYWRkIG0tMFwiIHJvbGU9XCJidXR0b25cIlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQWRkXCI+PC9hPlxuLy8gICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbi8vICAgICAgICAgICAgICAgICA8L3RkPlxuLy9cbi8vICAgICAgICAgICAgIDwvdHI+XG4vLyAgICAgICAgICAgICA8dHI+XG4vLyAgICAgICAgICAgICAgICAgPHRkPlxuLy8gICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY2hlY2tib3hcIj5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0Yy1kYXRhLWFjdGlvbj1cImNoZWNrXCIgdHlwZT1cImNoZWNrYm94XCI+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNoZWNrLW1hcmtcIj48L3NwYW4+XG4vLyAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4vLyAgICAgICAgICAgICAgICAgPC90ZD5cbi8vICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJjb250ZW50LXdpZHRoXCI+Q29udGVudDwvdGQ+XG4vLyAgICAgICAgICAgICAgICAgPHRkPkRhdGU8L3RkPlxuLy8gICAgICAgICAgICAgICAgIDx0ZD5MYXN0IE1vZGlmaWVkPC90ZD5cbi8vICAgICAgICAgICAgICAgICA8dGQ+PC90ZD5cbi8vICAgICAgICAgICAgIDwvdHI+YDtcblxuZXhwb3J0IGNvbnN0IGVudHJ5TGlzdEhlYWRlciA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPllvdXIgRGlhcnkgRW50cmllczwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZGQtZW50cnlcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cImFkZEVudHJ5XCIgdGl0bGU9XCJBZGQgRW50cnlcIiBjbGFzcz1cImJ0biBjcmVhdGVcIiByb2xlPVwiYnV0dG9uXCI+QWRkIERpYXJ5IEVudHJ5PC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmA7XG5cbi8vIGV4cG9ydCBjb25zdCBlbnRyeVRhYmxlQm9keVJvd1RlbXBsYXRlID0gYFxuLy8gICAgICAgICAgICAgPHRyPlxuLy8gICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIlwiPjxsYWJlbCBjbGFzcz1cImN1c3RvbS1jaGVja2JveFwiPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiY2hlY2stYm94XCIgZGF0YS1pbmRleD1cIlwiIHRjLWRhdGEtaWQ9XCJ7e2lkfX1cIiB0Yy1kYXRhLWFjdGlvbj1cImNoZWNrXCIgdHlwZT1cImNoZWNrYm94XCI+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNoZWNrLW1hcmtcIj48L3NwYW4+XG4vLyAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+PC90ZD5cbi8vICAgICAgICAgICAgICAgICA8dGQ+XG4vLyAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGl0bGVcIiB0Yy1kYXRhLW1vZGVsPVwidGl0bGVcIj5TYW1wbGU8L3A+XG4vLyAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY29udGVudFwiIHRjLWRhdGEtbW9kZWw9XCJjb250ZW50XCI+VGhpcyBpcyBhIHNhbXBsZSBjb250ZW50PC9wPlxuLy8gICAgICAgICAgICAgICAgIDwvdGQ+XG4vLyAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwiXCIgdGMtZGF0YS1tb2RlbD1cImNyZWF0ZWREYXRlXCI+ZGF0ZSBjcmVhdGVkIHNhbXBsZTwvdGQ+XG4vLyAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwiXCIgIHRjLWRhdGEtbW9kZWw9XCJsYXN0TW9kaWZpZWRcIj5sYXN0IG1vZGlmaWVkPC90ZD5cbi8vICAgICAgICAgICAgICAgICA8dGQ+XG4vLyAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd25cIj5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBkYXRhLWluZGV4PVwiXCIgIHRjLWRhdGEtYWN0aW9uPVwiZHJvcGRvd24tdG9nZ2xlXCIgY2xhc3M9XCJkcm9wZG93bi10b2dnbGVcIj48L2E+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgdGMtZGF0YS1hY3Rpb249XCJ2aWV3XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIj5WaWV3PC9hPjwvbGk+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSB0Yy1kYXRhLWFjdGlvbj1cImVkaXRcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiPkVkaXQ8L2E+PC9saT5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIHRjLWRhdGEtYWN0aW9uPVwiZGVsZXRlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIj5EZWxldGU8L2E+PC9saT5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4vLyAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuLy8gICAgICAgICAgICAgICAgIDwvdGQ+XG4vLyAgICAgICAgICAgICA8L3RyPmA7XG5cbmV4cG9ydCBjb25zdCBlbnRyeUxpc3RJdGVtVGVtcGxhdGUgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW50cnlcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRpdGxlXCIgdGMtZGF0YS1tb2RlbD1cInRpdGxlXCI+PC9wPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50IGxpbmUtY2xhbXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJibG9jay13aXRoLXRleHRcIiB0Yy1kYXRhLW1vZGVsPVwiY29udGVudFwiPjwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5MYXN0IE1vZGlmaWVkOjwvc3Bhbj4mbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHRjLWRhdGEtbW9kZWw9XCJsYXN0TW9kaWZpZWRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGRhdGEtaW5kZXg9XCJcIiB0Yy1kYXRhLWFjdGlvbj1cImRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRyb3Bkb3duLXRvZ2dsZS1pY29uXCI+PC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSB0Yy1kYXRhLWFjdGlvbj1cInZpZXdcIj5WaWV3PC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIHRjLWRhdGEtYWN0aW9uPVwiZWRpdFwiPkVkaXQ8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgdGMtZGF0YS1hY3Rpb249XCJkZWxldGVcIj5EZWxldGU8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVudHJ5VGVtcGxhdGUgPSBgICAgICAgIFxuICAgIDxkaXYgY2xhc3M9XCJmbGV4Ym94LXBhcmVudCBzY3JvbGxhYmxlXCI+XG4gICAgICA8ZGl2IGlkPVwiYWxlcnRcIiBjbGFzcz1cImFsZXJ0IGVycm9yXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJhbGVydC1tc2dcIj48L3A+XG4gICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIiBjbGFzcz1cImNsb3NlLWJ0blwiPiZ0aW1lczs8L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGlkPVwibW9kYWwtaGVhZGVyLXRpdGxlXCI+XG4gICAgICAgICAgICAgIDxwIHRjLWRhdGEtbW9kZWw9XCJsYXN0TW9kaWZpZWRcIj48L3A+XG4gICAgICAgICAgICAgIDxpbnB1dCB0Yy1kYXRhLW1vZGVsPVwidGl0bGVcIiBwbGFjZWhvbGRlcj1cIlRpdGxlXCIgY2xhc3M9XCJmb3JtLWlucHV0IG1vZGFsLWhlYWRlci1pbnB1dFwiPlxuICAgICAgICAgICAgICA8IS0tPHNwYW4gdGMtZGF0YS1tb2RlbD1cInRpdGxlXCIgY2xhc3M9XCJtb2RhbC1oZWFkZXItdGl0bGVcIj48L3NwYW4+LS0+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHNwYW4gdGMtZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBjbGFzcz1cImFjdGlvbi1idG4gY2xvc2VcIiByb2xlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCIwXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZ3Jvdy1ib2R5IG1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3JlYXRlLWVudHJ5XCI+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSBwbGFjZWhvbGRlcj1cIkRlYXIgRGlhcnksIFwiIGlkPVwiZW50cnlcIiBhdXRvZm9jdXM+PC90ZXh0YXJlYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YnV0dG9uIHRjLWRhdGEtYWN0aW9uPVwic2F2ZVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bi1zYXZlXCI+U2F2ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIHRjLWRhdGEtZGlzbWlzcz1cImNhbmNlbFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bi1jYW5jZWxcIj5DYW5jZWw8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbmA7XG5leHBvcnQgY29uc3Qgdmlld0VudHJ5VGVtcGxhdGUgPSBgXG4gICAgIDxkaXYgIGNsYXNzPVwic2Nyb2xsYWJsZVwiPiAgICAgICAgICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cIm1vZGFsLWhlYWRlci10aXRsZVwiPlxuICAgICAgICAgICAgICAgIDxwIHRjLWRhdGEtbW9kZWw9XCJsYXN0TW9kaWZpZWRcIj48L3A+XG4gICAgICAgICAgICAgICAgPHNwYW4gdGMtZGF0YS1tb2RlbD1cInRpdGxlXCIgY2xhc3M9XCJtb2RhbC1oZWFkZXItdGl0bGVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIHRjLWRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgIGNsYXNzPVwiYWN0aW9uLWJ0biBjbG9zZVwiIHJvbGU9XCJidXR0b25cIiB0YWJpbmRleD1cIjBcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48L3NwYW4+XG4gICAgICAgIDwvZGl2PiAgICAgICAgICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ3Jvdy1ib2R5IG1vZGFsLWJvZHlcIj4gXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1jb250YWluZXJcIj48L2Rpdj4gICAgICAgICAgICAgICAgXG4gICAgICAgIDwvZGl2PiAgXG4gICAgIDwvZGl2PlxuYDtcbmV4cG9ydCBjb25zdCBsb2FkaW5nVGVtcGxhdGUgPSBgXG4gICAgPGRpdiBjbGFzcz1cImxvYWRpbmctY29udGFpbmVyIGxvYWRpbmctYmdcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmctcmluZ1wiPlxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IGVtcHR5TGlzdFRlbXBsZSA9ICc8ZGl2IGNsYXNzPVwiZW1wdHktbGlzdFwiPjxzcGFuPk5vIEVudHJ5PC9zcGFuPjwvZGl2Pic7XG5cbmV4cG9ydCBjb25zdCBuYXZiYXJIZWFkZXJUZW1wbGF0ZSA9IGAgXG4gICAgPGRpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJuYXYtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGhlYWRlciBjbGFzcz1cIm5hdi1oZWFkZXJcIj5cbiAgICAgICAgICA8YSBjbGFzcz1cIm5hdmljb25cIj5cbiAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjNcIiBoZWlnaHQ9XCIxOVwiIHZpZXdCb3g9XCIwIDAgMjMgMTlcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZyBmaWxsPVwibm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBmaWxsPVwiIzU1NVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeT1cIjE2XCIgd2lkdGg9XCIyM1wiIGhlaWdodD1cIjNcIiByeD1cIjEuNVwiPjwvcmVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHdpZHRoPVwiMjNcIiBoZWlnaHQ9XCIzXCIgcng9XCIxLjVcIj48L3JlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB5PVwiOFwiIHdpZHRoPVwiMjNcIiBoZWlnaHQ9XCIzXCIgcng9XCIxLjVcIj48L3JlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPGEgaHJlZj1cImluZGV4Lmh0bWxcIiBjbGFzcz1cImhlYWRlci1sb2dvXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibG9nby1pbWdcIj48L3NwYW4+ICAgICAgICAgICAgXG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJuYXZcIj5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibG9nZ2VkLWluXCI+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImRhc2hib2FyZC5odG1sXCI+RGFzaGJvYXJkPC9hPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwicHJvZmlsZS5odG1sXCI+UHJvZmlsZTwvYT5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJsb2dvdXQtanNcIj5Mb2dvdXQ8L2E+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsb2dnZWQtb3V0XCI+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cInNpZ25pbi5odG1sXCI+U2lnbiBJbjwvYT5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJidG4gc2lnbnVwXCIgaHJlZj1cInNpZ251cC5odG1sXCI+U2lnbiBVcDwvYT5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+ICAgICAgICAgICAgXG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj4gICAgIFxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwic2lkZS1uYXZcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5hdlwiPlxuICAgICAgICAgICAgPHNwYW4gdGMtZGF0YS1kaXNtaXNzPVwic2lkZS1uYXZcIiAgY2xhc3M9XCJhY3Rpb24tYnRuIGNsb3NlXCIgcm9sZT1cImJ1dHRvblwiIHRhYmluZGV4PVwiMFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cImxvZ2dlZC1pblwiPlxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImRhc2hib2FyZC5odG1sXCI+RGFzaGJvYXJkPC9hPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwicHJvZmlsZS5odG1sXCI+UHJvZmlsZTwvYT5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJsb2dvdXQtanNcIj5Mb2dvdXQ8L2E+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJsb2dnZWQtb3V0XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cInNpZ25pbi5odG1sXCI+U2lnbiBJbjwvYT5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cInNpZ251cC5odG1sXCI+U2lnbiBVcDwvYT5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPC9kaXY+XG5gO1xuZXhwb3J0IGNvbnN0IGZsb2F0aW5nQnV0dG9uID0gYFxuICAgIDxhIHRpdGxlPVwiQWRkIEVudHJ5XCIgcm9sZT1cImJ1dHRvblwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsb2F0aW5nLWJ1dHRvbiBzaG93LW9uLW1vYmlsZVwiPlxuICAgICAgICAgIDxzcGFuIHRpdGxlPVwiQWRkIEVudHJ5XCIgcm9sZT1cImJ1dHRvblwiIGNsYXNzPVwicGx1c1wiPiZwbHVzOzwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvYT5gO1xuIiwiZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSAnaHR0cHM6Ly9zaGllbGRlZC13YXRlcnMtOTQwMDYuaGVyb2t1YXBwLmNvbSc7XG5leHBvcnQgY29uc3QgYXBpVmVyc2lvbiA9ICcvYXBpL3YxJztcbmV4cG9ydCBjb25zdCBhcGlVcmwgPSBiYXNlVXJsICsgYXBpVmVyc2lvbjtcbmV4cG9ydCBjb25zdCB1c2VyUHJvZmlsZSA9IGAke2FwaVVybH0vYWNjb3VudC9tZS9kZXRhaWxlZGA7XG5leHBvcnQgY29uc3QgY2hhbmdlUGFzc3dvcmQgPSBgJHthcGlVcmx9L2FjY291bnQvY2hhbmdlLXBhc3N3b3JkYDtcbmV4cG9ydCBjb25zdCByZW1pbmRlclVybCA9IGAke2FwaVVybH0vYWNjb3VudC91c2VyL3JlbWluZGVyL3NldHRpbmdzYDtcbmV4cG9ydCBjb25zdCByZWdpc3RyYXRpb25FbmRwb2ludCA9IGAke2FwaVVybH0vYXV0aC9zaWdudXBgO1xuZXhwb3J0IGNvbnN0IGF1dGhlbnRpY2F0aW9uRW5kcG9pbnQgPSBgJHthcGlVcmx9L2F1dGgvbG9naW5gO1xuZXhwb3J0IGNvbnN0IGVudHJpZXNFbmRwb2ludCA9IGAke2FwaVVybH0vZW50cmllc2A7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRyeVVybEJ5SUQoaWQpIHtcbiAgcmV0dXJuIGAke2VudHJpZXNFbmRwb2ludH0vJHtpZH1gO1xufVxuIiwiY2xhc3MgRmV0Y2hXcmFwcGVyIHtcbiAgcmVxdWVzdChtZXRob2QsIHVybCwgYm9keSkge1xuICAgIGNvbnN0IGZldGNoRGF0YSA9IHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuYXV0aGVudGljYXRpb25Ub2tlbikge1xuICAgICAgZmV0Y2hEYXRhLmhlYWRlcnNbJ1gtQWNjZXNzLVRva2VuJ10gPSBsb2NhbFN0b3JhZ2UuYXV0aGVudGljYXRpb25Ub2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIGZldGNoKHVybCwgZmV0Y2hEYXRhKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzO1xuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKCdzaWduaW4uaHRtbCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPCA0MDAgfHwgc3RhdHVzID49IDYwMCkge1xuICAgICAgICAgIGNvbnN0IHRva2VuID0gcmVzLmhlYWRlcnMuZ2V0KCdYLUFjY2Vzcy1Ub2tlbicpO1xuICAgICAgICAgIGlmICh0b2tlbikgbG9jYWxTdG9yYWdlLmF1dGhlbnRpY2F0aW9uVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXMuanNvbigpKS50aGVuKGRhdGEgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGRhdGEubWVzc2FnZSkpKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSk7XG4gIH1cblxuICBnZXQodXJsKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnR0VUJywgdXJsKTtcbiAgfVxuXG4gIHBvc3QodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnUE9TVCcsIHVybCwgZGF0YSk7XG4gIH1cblxuICBwdXQodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnUFVUJywgdXJsLCBkYXRhKTtcbiAgfVxuXG4gIGRlbGV0ZSh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdERUxFVEUnLCB1cmwsIGRhdGEpO1xuICB9XG59XG5cbmNvbnN0IGh0dHAgPSBuZXcgRmV0Y2hXcmFwcGVyKCk7XG5leHBvcnQgZGVmYXVsdCBodHRwO1xuIiwiaW1wb3J0IHsgaHRtbFRvRWxlbWVudCB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBuYXZiYXJIZWFkZXJUZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2QmFyVmlldyB7XG4gIHN0YXRpYyBsb2dvdXRIYW5kbGUoKSB7XG4gICAgbG9jYWxTdG9yYWdlLmNsZWFyKCdhdXRoZW50aWNhdGlvblRva2VuJyk7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJ2luZGV4Lmh0bWwnKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudmllZXdFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmJhcicpO1xuICAgIHRoaXMudmllZXdFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy52aWVld0VsZW1lbnQuYXBwZW5kQ2hpbGQoaHRtbFRvRWxlbWVudChuYXZiYXJIZWFkZXJUZW1wbGF0ZSkpO1xuICAgIGNvbnN0IGxvZ291dCA9IHRoaXMudmllZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2dvdXQtanMnKTtcblxuICAgIGxvZ291dFswXS5vbmNsaWNrID0gTmF2QmFyVmlldy5sb2dvdXRIYW5kbGU7XG4gICAgbG9nb3V0WzFdLm9uY2xpY2sgPSBOYXZCYXJWaWV3LmxvZ291dEhhbmRsZTtcblxuICAgIGNvbnN0IGRpc21pc3NTaWRlTmF2QnV0dG9uID0gdGhpcy52aWVld0VsZW1lbnQucXVlcnlTZWxlY3RvcignW3RjLWRhdGEtZGlzbWlzcz1cInNpZGUtbmF2XCJdJyk7XG4gICAgZGlzbWlzc1NpZGVOYXZCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMuaGlkZU9yU2hvd1NpZGVOYXYoJ2hpZGUnKTtcbiAgICB9O1xuICAgIGNvbnN0IHNob3dTaWRlTmF2QnV0dG9uID0gdGhpcy52aWVld0VsZW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmljb24nKTtcbiAgICBzaG93U2lkZU5hdkJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy5oaWRlT3JTaG93U2lkZU5hdignc2hvdycpO1xuICAgIH07XG5cbiAgICBjb25zdCBzaWRlTmF2ID0gdGhpcy52aWVld0VsZW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGUtbmF2Jyk7XG4gICAgc2lkZU5hdi5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGlkZU9yU2hvd1NpZGVOYXYoJ2hpZGUnKTtcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMudmllZXdFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgY29uc3QgbG9nb3V0RWxlbWVudCA9IHRoaXMudmllZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2dnZWQtb3V0Jyk7XG4gICAgY29uc3QgbG9naW5FbGVtZW50ID0gdGhpcy52aWVld0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxvZ2dlZC1pbicpO1xuXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5hdXRoZW50aWNhdGlvblRva2VuKSB7XG4gICAgICBsb2dpbkVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgIGxvZ291dEVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgbG9naW5FbGVtZW50WzFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgbG9nb3V0RWxlbWVudFsxXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dpbkVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIGxvZ291dEVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcblxuICAgICAgbG9naW5FbGVtZW50WzFdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBsb2dvdXRFbGVtZW50WzFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cbiAgfVxuXG4gIGhpZGVPclNob3dTaWRlTmF2KGFjdGlvbikge1xuICAgIGNvbnN0IHNpZGVOYXYgPSB0aGlzLnZpZWV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZS1uYXYnKTtcbiAgICBjb25zdCBuYXYgPSBzaWRlTmF2LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKTtcbiAgICBpZiAoYWN0aW9uID09PSAnaGlkZScpIHtcbiAgICAgIHNpZGVOYXYuc3R5bGUud2lkdGggPSAnMCc7XG4gICAgICBuYXYuc3R5bGUud2lkdGggPSAnMCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpZGVOYXYuc3R5bGUud2lkdGggPSAnMTAwdncnO1xuICAgICAgbmF2LnN0eWxlLndpZHRoID0gJzI1MHB4JztcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIGJpbmRQcm9wZXJ0aWVzVG9FbGVtZW50LCBnZXRGaWVsZHNBc09iamVjdCwgc2hvd1RvYXN0LCB0cmltRGF0ZSxcbn0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGNoYW5nZVBhc3N3b3JkLCByZW1pbmRlclVybCwgdXNlclByb2ZpbGUgfSBmcm9tICcuL2VuZHBvaW50VXJsJztcbmltcG9ydCBOYXZCYXJWaWV3IGZyb20gJy4vbmF2YmFyVmlldyc7XG5pbXBvcnQgaHR0cCBmcm9tICcuL2ZldGNoV3JhcHBlcic7XG5cbmZ1bmN0aW9uIHBhZFZhbHVlKHZhbHVlKSB7XG4gIGxldCByZXN1bHQgPSBOdW1iZXIodmFsdWUpO1xuICBpZiAocmVzdWx0ID49IDAgJiYgcmVzdWx0IDwgMTApIHtcbiAgICByZXN1bHQgPSBgMCR7cmVzdWx0fWA7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcm91bmRUaW1lKHZhbHVlLCBtaW4sIG1heCkge1xuICBsZXQgcmVzdWx0ID0gdmFsdWU7XG4gIGlmIChyZXN1bHQgPCBtaW4pIHtcbiAgICByZXN1bHQgPSBtaW47XG4gIH0gZWxzZSBpZiAocmVzdWx0ID4gbWF4KSB7XG4gICAgcmVzdWx0ID0gbWF4O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGlucHV0Q2hhbmdlSGFuZGxlcihlKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDtcbiAgY29uc3QgdW5pdCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXVuaXQnKTtcbiAgbGV0IHsgdmFsdWUgfSA9IGVsZW1lbnQ7XG4gIGlmICh1bml0ICYmIHVuaXQgPT09ICdob3VycycpIHtcbiAgICB2YWx1ZSA9IHJvdW5kVGltZSh2YWx1ZSwgMCwgMjMpO1xuICB9IGVsc2UgaWYgKHVuaXQgJiYgdW5pdCA9PT0gJ21pbnV0ZXMnKSB7XG4gICAgdmFsdWUgPSByb3VuZFRpbWUodmFsdWUsIDAsIDU5KTtcbiAgfVxuICBlbGVtZW50LnZhbHVlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbn1cblxuZnVuY3Rpb24gZm9jdXNIYW5kbGVyKGUpIHtcbiAgY29uc3QgaG91cnNJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob3VycycpO1xuICBjb25zdCBtaW51dGVzSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludXRlcycpO1xuICBjb25zdCBlbGVtZW50ID0gZS50YXJnZXQ7XG4gIG1pbnV0ZXNJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdoYXNGb2N1cycpO1xuICBob3Vyc0lucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2hhc0ZvY3VzJyk7XG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGFzRm9jdXMnKTtcbn1cblxuZnVuY3Rpb24gYmx1ckhhbmRsZXIoZSkge1xuICBjb25zdCBlbGVtZW50ID0gZS50YXJnZXQ7XG4gIGNvbnN0IHsgdmFsdWUgfSA9IGVsZW1lbnQ7XG4gIGVsZW1lbnQudmFsdWUgPSBwYWRWYWx1ZSh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGdldEZvY3VzZWRFbGVtZW50KCkge1xuICBjb25zdCBtaW51dGVzSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludXRlcycpO1xuICBsZXQgZm9jdXNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYXNGb2N1cycpO1xuICBpZiAoIWZvY3VzZWQpIHtcbiAgICBtaW51dGVzSW5wdXQuZm9jdXMoKTtcbiAgICBmb2N1c2VkID0gbWludXRlc0lucHV0O1xuICAgIC8vIGZvY3VzZWQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgZm9jdXNlZC52YWx1ZS5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmb2N1c2VkO1xufVxuXG5mdW5jdGlvbiBzdGVwTWludXRlc1ZhbHVlKGRpcmVjdGlvbiwgdmFsdWUpIHtcbiAgbGV0IHJlc3VsdCA9IDA7XG4gIGNvbnN0IG1pbnV0ZVN0ZXAgPSAxNTtcbiAgaWYgKCFkaXJlY3Rpb24pIHJldHVybiByZXN1bHQ7XG5cbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgIHJlc3VsdCA9ICh2YWx1ZSAlIG1pbnV0ZVN0ZXAgPT09IDApXG4gICAgICA/IHZhbHVlICsgbWludXRlU3RlcCA6IG1pbnV0ZVN0ZXAgKiAocGFyc2VJbnQodmFsdWUgLyBtaW51dGVTdGVwLCAxMCkgKyAxKTtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdkb3duJykge1xuICAgIGNvbnN0IHJvdW5kID0gKHZhbHVlID09PSAwKSA/IDYwIDogdmFsdWU7XG4gICAgcmVzdWx0ID0gKHZhbHVlICUgbWludXRlU3RlcCA9PT0gMClcbiAgICAgID8gdmFsdWUgLSBtaW51dGVTdGVwIDogbWludXRlU3RlcCAqIChwYXJzZUludChyb3VuZCAvIG1pbnV0ZVN0ZXAsIDEwKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcm91bmRBbmRQYWRWYWx1ZShob3VyVmFsdWUpIHtcbiAgbGV0IHJlc3VsdCA9IGhvdXJWYWx1ZTtcbiAgaWYgKGhvdXJWYWx1ZSA8IDApIHtcbiAgICByZXN1bHQgPSAyMztcbiAgfSBlbHNlIGlmIChob3VyVmFsdWUgPiAyMykge1xuICAgIHJlc3VsdCA9ICcwMCc7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gcGFkVmFsdWUoaG91clZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtaW51dGVzQ29udHJvbEhhbmRsZXIodGFyZ2V0RWxlbWVudCkge1xuICBjb25zdCBob3Vyc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvdXJzJyk7XG4gIGNvbnN0IGZvY3VzZWQgPSBnZXRGb2N1c2VkRWxlbWVudCgpO1xuICBjb25zdCBkaXJlY3Rpb24gPSB0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kaXJlY3Rpb24nKTtcblxuICBjb25zdCByZXN1bHQgPSBzdGVwTWludXRlc1ZhbHVlKGRpcmVjdGlvbiwgTnVtYmVyKGZvY3VzZWQudmFsdWUpKTtcbiAgbGV0IGhvdXJWYWx1ZSA9IE51bWJlcihob3Vyc0lucHV0LnZhbHVlKTtcblxuICBpZiAocmVzdWx0IDw9IDApIHtcbiAgICBmb2N1c2VkLnZhbHVlID0gNTk7XG4gICAgaG91clZhbHVlIC09IDE7XG4gICAgaG91cnNJbnB1dC52YWx1ZSA9IHJvdW5kQW5kUGFkVmFsdWUoaG91clZhbHVlKTtcbiAgfSBlbHNlIGlmIChyZXN1bHQgPj0gNjApIHtcbiAgICBmb2N1c2VkLnZhbHVlID0gJzAwJztcbiAgICBob3VyVmFsdWUgKz0gMTtcbiAgICBob3Vyc0lucHV0LnZhbHVlID0gcm91bmRBbmRQYWRWYWx1ZShob3VyVmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGZvY3VzZWQudmFsdWUgPSBwYWRWYWx1ZShyZXN1bHQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhvdXJzQ29udHJvbEhhbmRsZXIodGFyZ2V0RWxlbWVudCkge1xuICBjb25zdCBkaXJlY3Rpb24gPSB0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kaXJlY3Rpb24nKTtcbiAgY29uc3QgZm9jdXNlZCA9IGdldEZvY3VzZWRFbGVtZW50KCk7XG4gIGxldCBob3VyVmFsdWUgPSBOdW1iZXIoZm9jdXNlZC52YWx1ZSk7XG4gIGlmIChkaXJlY3Rpb24gJiYgZGlyZWN0aW9uID09PSAnZG93bicpIHtcbiAgICBob3VyVmFsdWUgLT0gMTtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiYgZGlyZWN0aW9uID09PSAndXAnKSB7XG4gICAgaG91clZhbHVlICs9IDE7XG4gIH1cbiAgZm9jdXNlZC52YWx1ZSA9IHJvdW5kQW5kUGFkVmFsdWUoaG91clZhbHVlKTtcbn1cblxuZnVuY3Rpb24gY29udHJvbEhhbmRsZXIoZSkge1xuICBjb25zdCBlbGVtZW50ID0gZS50YXJnZXQ7XG4gIGNvbnN0IGZvY3VzZWQgPSBnZXRGb2N1c2VkRWxlbWVudCgpO1xuICBpZiAoZm9jdXNlZC5pZCA9PT0gJ21pbnV0ZXMnKSB7XG4gICAgbWludXRlc0NvbnRyb2xIYW5kbGVyKGVsZW1lbnQpO1xuICB9IGVsc2UgaWYgKGZvY3VzZWQuaWQgPT09ICdob3VycycpIHtcbiAgICBob3Vyc0NvbnRyb2xIYW5kbGVyKGVsZW1lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRpbWVJbnB1dENvbnRyb2xsZXIoKSB7XG4gIGNvbnN0IGhvdXJzSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG91cnMnKTtcbiAgY29uc3QgbWludXRlc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnV0ZXMnKTtcblxuICBob3Vyc0lucHV0Lm9ua2V5dXAgPSBpbnB1dENoYW5nZUhhbmRsZXI7XG4gIGhvdXJzSW5wdXQub25jaGFuZ2UgPSBpbnB1dENoYW5nZUhhbmRsZXI7XG4gIGhvdXJzSW5wdXQub25wYXN0ZSA9IGlucHV0Q2hhbmdlSGFuZGxlcjtcbiAgaG91cnNJbnB1dC5vbmN1dCA9IGlucHV0Q2hhbmdlSGFuZGxlcjtcblxuICBtaW51dGVzSW5wdXQub25rZXl1cCA9IGlucHV0Q2hhbmdlSGFuZGxlcjtcbiAgbWludXRlc0lucHV0Lm9uY2hhbmdlID0gaW5wdXRDaGFuZ2VIYW5kbGVyO1xuICBtaW51dGVzSW5wdXQub25wYXN0ZSA9IGlucHV0Q2hhbmdlSGFuZGxlcjtcbiAgbWludXRlc0lucHV0Lm9uY3V0ID0gaW5wdXRDaGFuZ2VIYW5kbGVyO1xuXG4gIGhvdXJzSW5wdXQub25ibHVyID0gYmx1ckhhbmRsZXI7XG4gIG1pbnV0ZXNJbnB1dC5vbmJsdXIgPSBibHVySGFuZGxlcjtcbiAgaG91cnNJbnB1dC5vbmZvY3VzID0gZm9jdXNIYW5kbGVyO1xuICBtaW51dGVzSW5wdXQub25mb2N1cyA9IGZvY3VzSGFuZGxlcjtcbiAgY29uc3QgY29udHJvbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGltZS1jb250cm9sbGVyLWJ0bicpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRyb2xCdXR0b25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29udHJvbEJ1dHRvbnNbaV0ub25jbGljayA9IGNvbnRyb2xIYW5kbGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJpbmRQcm9maWxlKG1vZGVsKSB7XG4gIGlmICghbW9kZWwpIHJldHVybiBudWxsO1xuICBjb25zdCBwcm9maWxlU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlJyk7XG4gIGNvbnN0IHByb2ZpbGVEYXRhTW9kZWxFbGVtZW50cyA9IHByb2ZpbGVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ1t0Yy1kYXRhLW1vZGVsXScpO1xuICBiaW5kUHJvcGVydGllc1RvRWxlbWVudChwcm9maWxlRGF0YU1vZGVsRWxlbWVudHMsIG1vZGVsKTtcbiAgcmV0dXJuIHByb2ZpbGVEYXRhTW9kZWxFbGVtZW50cztcbn1cblxuZnVuY3Rpb24gYmluZEVudHJpZXNTdW1tYXJ5KG1vZGVsKSB7XG4gIGlmICghbW9kZWwpIHJldHVybiBudWxsO1xuICBjb25zdCBkYXRhID0gbW9kZWw7XG4gIGRhdGEubGFzdE1vZGlmaWVkID0gdHJpbURhdGUoZGF0YS5sYXN0TW9kaWZpZWQpO1xuICBjb25zdCBlbnRyeVN1bW1hcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW50cnlTdW1tYXJ5Jyk7XG4gIGNvbnN0IGVudHJ5U3VtbWFyeURhdGFNb2RlbEVsZW1lbnRzID0gZW50cnlTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3JBbGwoJ1t0Yy1kYXRhLW1vZGVsXScpO1xuICBiaW5kUHJvcGVydGllc1RvRWxlbWVudChlbnRyeVN1bW1hcnlEYXRhTW9kZWxFbGVtZW50cywgbW9kZWwpO1xuICByZXR1cm4gZW50cnlTdW1tYXJ5RGF0YU1vZGVsRWxlbWVudHM7XG59XG5cbmZ1bmN0aW9uIGJpbmRSZW1pbmRlcihtb2RlbCkge1xuICBpZiAobW9kZWwudGltZSkge1xuICAgIGNvbnN0IHsgdGltZSwgZnJvbSwgdG8gfSA9IG1vZGVsO1xuICAgIGNvbnN0IFtob3VycywgbWludXRlc10gPSB0aW1lLnNwbGl0KCc6Jyk7XG5cbiAgICBjb25zdCByZW1pbmRlclNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtaW5kZXInKTtcbiAgICBjb25zdCByZW1pbmRlckRhdGFNb2RlbEVsZW1lbnRzID0gcmVtaW5kZXJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ1t0Yy1kYXRhLW1vZGVsXScpO1xuICAgIGJpbmRQcm9wZXJ0aWVzVG9FbGVtZW50KHJlbWluZGVyRGF0YU1vZGVsRWxlbWVudHMsIHtcbiAgICAgIGhvdXJzLCBtaW51dGVzLCBmcm9tLCB0byxcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb25zdW1lQVBJUmVzdWx0KHByb21pc2UpIHtcbiAgcHJvbWlzZS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBzaG93VG9hc3QocmVzdWx0Lm1lc3NhZ2UsICdzdWNjZXNzJyk7XG4gIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UsICdlcnJvcicpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlUGFzc3dvcmRIYW5kbGVyKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBjaGFuZ2VQYXNzd29yZEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlUGFzc3dvcmQnKTtcbiAgY29uc3QgZGF0YSA9IGdldEZpZWxkc0FzT2JqZWN0KGNoYW5nZVBhc3N3b3JkRm9ybSk7XG4gIGlmIChkYXRhLm5ld1Bhc3N3b3JkID09PSBkYXRhLm1hdGNoUGFzc3dvcmQpIHtcbiAgICBjb25zdW1lQVBJUmVzdWx0KGh0dHAucG9zdChjaGFuZ2VQYXNzd29yZCwgZGF0YSkpO1xuICB9IGVsc2Uge1xuICAgIHNob3dUb2FzdCgnUGFzc3dvcmQgZG9lc25cXCd0IG1hdGNoJywgJ2Vycm9yJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlUmVtaW5kZXJIYW5kbGVyKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCByZW1pbmRlckZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtaW5kZXJGb3JtJyk7XG4gIGNvbnN0IGRhdGEgPSBnZXRGaWVsZHNBc09iamVjdChyZW1pbmRlckZvcm0pO1xuICBkYXRhLnRpbWUgPSBgJHtkYXRhLmhvdXJzfToke2RhdGEubWludXRlc31gO1xuICBjb25zdW1lQVBJUmVzdWx0KGh0dHAucHV0KHJlbWluZGVyVXJsLCBkYXRhKSk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnQoKSB7XG4gIGNvbnN0IGNoYW5nZVBhc3N3b3JkRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VQYXNzd29yZCcpO1xuICBjb25zdCBjaGFuZ2VQYXNzd29yZEJ1dHRvbiA9IGNoYW5nZVBhc3N3b3JkRm9ybS5xdWVyeVNlbGVjdG9yKCdbdGMtZGF0YS1hY3Rpb25dJyk7XG4gIGNoYW5nZVBhc3N3b3JkQnV0dG9uLm9uY2xpY2sgPSB1cGRhdGVQYXNzd29yZEhhbmRsZXI7XG5cbiAgY29uc3QgcmVtaW5kZXJGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbWluZGVyRm9ybScpO1xuICBjb25zdCByZW1pbmRlckJ1dHRvbiA9IHJlbWluZGVyRm9ybS5xdWVyeVNlbGVjdG9yKCdbdGMtZGF0YS1hY3Rpb25dJyk7XG4gIHJlbWluZGVyQnV0dG9uLm9uY2xpY2sgPSB1cGRhdGVSZW1pbmRlckhhbmRsZXI7XG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGNvbnN0IG5hdmJhciA9IG5ldyBOYXZCYXJWaWV3KCk7XG4gIGlmICh0eXBlb2YgKFN0b3JhZ2UpICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuYXV0aGVudGljYXRpb25Ub2tlbikge1xuICAgICAgbmF2YmFyLnJlbmRlcigpO1xuICAgICAgdGltZUlucHV0Q29udHJvbGxlcigpO1xuICAgICAgaHR0cC5nZXQodXNlclByb2ZpbGUpXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHVzZXIsIHJlbWluZGVyLCBlbnRyeSB9ID0gcmVzdWx0LmRhdGE7XG4gICAgICAgICAgYmluZFByb2ZpbGUodXNlcik7XG4gICAgICAgICAgYmluZFJlbWluZGVyKHJlbWluZGVyKTtcbiAgICAgICAgICBiaW5kRW50cmllc1N1bW1hcnkoZW50cnkpO1xuICAgICAgICAgIHJlZ2lzdGVyRXZlbnQoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UsICdlcnJvcicpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJ3NpZ25pbi5odG1sJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFNvcnJ5ISBObyBXZWIgU3RvcmFnZSBzdXBwb3J0Li5cbiAgfVxufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9